{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{378:function(e,s,n){\"use strict\";n.r(s);var t=n(45),o=Object(t.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"promiseé¢è¯•é¢˜\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#promiseé¢è¯•é¢˜\"}},[e._v(\"#\")]),e._v(\" Promiseé¢è¯•é¢˜\")]),e._v(\" \"),n(\"h3\",{attrs:{id:\"_1-promiseçš„å‡ é“åŸºç¡€é¢˜\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-promiseçš„å‡ é“åŸºç¡€é¢˜\"}},[e._v(\"#\")]),e._v(\" 1. Promiseçš„å‡ é“åŸºç¡€é¢˜\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_1-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 1.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[e._v(\"const\")]),e._v(\" promise1 \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[e._v(\"new\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[e._v(\"Promise\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[e._v(\"resolve\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\",\")]),e._v(\" reject\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=>\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"{\")]),e._v(\"\\n  console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v(\"'promise1'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"}\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\"\\nconsole\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v(\"'1'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\",\")]),e._v(\" promise1\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç \"),n(\"code\",[e._v(\"promise1\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"1\")]),e._v(\"ï¼Œæ­¤æ—¶\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"æ²¡æœ‰è¢«\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"æˆ–è€…\"),n(\"code\",[e._v(\"reject\")]),e._v(\"ï¼Œå› æ­¤çŠ¶æ€è¿˜æ˜¯\"),n(\"code\",[e._v(\"pending\")])])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'promise1'\\n'1' Promise{<pending>}\\n\")])])]),n(\"h4\",{attrs:{id:\"_1-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 1.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[e._v(\"const\")]),e._v(\" promise \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[e._v(\"new\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[e._v(\"Promise\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[e._v(\"resolve\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\",\")]),e._v(\" reject\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=>\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"{\")]),e._v(\"\\n  console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"resolve\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[e._v(\"'success'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\"\\n  console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"2\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"}\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\npromise\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"then\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=>\")]),e._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"{\")]),e._v(\"\\n  console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"3\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"}\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\nconsole\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"4\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\";\")]),e._v(\"\\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ï¼Œæ‰§è¡Œå…¶ä¸­çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"1\")])]),e._v(\" \"),n(\"li\",[e._v(\"å†é‡åˆ°\"),n(\"code\",[e._v(\"resolve('success')\")]),e._v(\"ï¼Œ å°†\"),n(\"code\",[e._v(\"promise\")]),e._v(\"çš„çŠ¶æ€æ”¹ä¸ºäº†\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"å¹¶ä¸”å°†å€¼ä¿å­˜ä¸‹æ¥\")]),e._v(\" \"),n(\"li\",[e._v(\"ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"2\")])]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"promise\")]),e._v(\"ï¼Œå¾€ä¸‹æ‰§è¡Œï¼Œç¢°åˆ°\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å…¶åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"4\")])]),e._v(\" \"),n(\"li\",[e._v(\"æœ¬è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"ï¼Œæ‰§è¡Œå®ƒã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1 2 4 3\\n\")])])]),n(\"h4\",{attrs:{id:\"_1-3-é¢˜ç›®ä¸‰\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-3-é¢˜ç›®ä¸‰\"}},[e._v(\"#\")]),e._v(\" 1.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const promise = new Promise((resolve, reject) => {\\n  console.log(1);\\n  console.log(2);\\n});\\npromise.then(() => {\\n  console.log(3);\\n});\\nconsole.log(4);\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æ\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"å’Œé¢˜ç›®äºŒç›¸ä¼¼ï¼Œåªä¸è¿‡åœ¨\"),n(\"code\",[e._v(\"promise\")]),e._v(\"ä¸­å¹¶æ²¡æœ‰\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"æˆ–è€…\"),n(\"code\",[e._v(\"reject\")])]),e._v(\" \"),n(\"li\",[e._v(\"å› æ­¤\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"å¹¶ä¸ä¼šæ‰§è¡Œï¼Œå®ƒåªæœ‰åœ¨è¢«æ”¹å˜äº†çŠ¶æ€ä¹‹åæ‰ä¼šæ‰§è¡Œã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1 2 4\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_1-4-é¢˜ç›®å››\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-4-é¢˜ç›®å››\"}},[e._v(\"#\")]),e._v(\" 1.4 é¢˜ç›®å››\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const promise1 = new Promise((resolve, reject) => {\\n  console.log('promise1')\\n  resolve('resolve1')\\n})\\nconst promise2 = promise1.then(res => {\\n  console.log(res)\\n})\\nconsole.log('1', promise1);\\nconsole.log('2', promise2);\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç \"),n(\"code\",[e._v(\"promise1\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç¢°åˆ°\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"å‡½æ•°, å°†\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"çš„çŠ¶æ€æ”¹å˜ä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\", å¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥\")]),e._v(\" \"),n(\"li\",[e._v(\"ç¢°åˆ°\"),n(\"code\",[e._v(\"promise1.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"promise2\")]),e._v(\"æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"pending\")]),e._v(\"çš„\"),n(\"code\",[e._v(\"Promise\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"1\")]),e._v(\"ï¼Œ åŒæ—¶æ‰“å°å‡º\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"çš„çŠ¶æ€æ˜¯\"),n(\"code\",[e._v(\"resolved\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"2\")]),e._v(\"ï¼ŒåŒæ—¶æ‰“å°å‡º\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"çš„çŠ¶æ€æ˜¯\"),n(\"code\",[e._v(\"pending\")])]),e._v(\" \"),n(\"li\",[e._v(\"å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°\"),n(\"code\",[e._v(\"promise1.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"ï¼Œæ‰§è¡Œå®ƒã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'promise1'\\n'1' Promise{<resolved>: 'resolve1'}\\n'2' Promise{<pending>}\\n'resolve1'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_1-5-é¢˜ç›®äº”\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-5-é¢˜ç›®äº”\"}},[e._v(\"#\")]),e._v(\" 1.5 é¢˜ç›®äº”\")]),e._v(\" \"),n(\"p\",[e._v(\"æ¥ä¸‹æ¥çœ‹çœ‹è¿™é“é¢˜ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const fn = () => (new Promise((resolve, reject) => {\\n  console.log(1);\\n  resolve('success')\\n}))\\nfn().then(res => {\\n  console.log(res)\\n})\\nconsole.log('start')\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿™é“é¢˜é‡Œæœ€å…ˆæ‰§è¡Œçš„æ˜¯\"),n(\"code\",[e._v(\"'start'\")]),e._v(\"å— ğŸ¤”ï¸ ï¼Ÿ\\nè¯·ä»”ç»†çœ‹çœ‹å“¦ï¼Œ\"),n(\"code\",[e._v(\"fn\")]),e._v(\"å‡½æ•°å®ƒæ˜¯ç›´æ¥è¿”å›äº†ä¸€ä¸ª\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"çš„ï¼Œè€Œä¸”\"),n(\"code\",[e._v(\"fn\")]),e._v(\"å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨\"),n(\"code\",[e._v(\"start\")]),e._v(\"ä¹‹å‰ï¼Œæ‰€ä»¥å®ƒé‡Œé¢çš„å†…å®¹åº”è¯¥ä¼šå…ˆæ‰§è¡Œã€‚\\nç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n'start'\\n'success'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_1-6-é¢˜ç›®å…­\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-6-é¢˜ç›®å…­\"}},[e._v(\"#\")]),e._v(\" 1.6 é¢˜ç›®å…­\")]),e._v(\" \"),n(\"p\",[e._v(\"å¦‚æœæŠŠ\"),n(\"code\",[e._v(\"fn\")]),e._v(\"çš„è°ƒç”¨æ”¾åˆ°\"),n(\"code\",[e._v(\"start\")]),e._v(\"ä¹‹åå‘¢ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('const fn = () =>\\n  new Promise((resolve, reject) => {\\n    console.log(1);\\n    resolve(\"success\");\\n  });\\nconsole.log(\"start\");\\nfn().then(res => {\\n  console.log(res);\\n});\\n')])])]),n(\"p\",[e._v(\"æ˜¯çš„ï¼Œç°åœ¨\"),n(\"code\",[e._v(\"start\")]),e._v(\"å°±åœ¨\"),n(\"code\",[e._v(\"1\")]),e._v(\"ä¹‹å‰æ‰“å°å‡ºæ¥äº†ï¼Œå› ä¸º\"),n(\"code\",[e._v(\"fn\")]),e._v(\"å‡½æ•°æ˜¯ä¹‹åæ‰§è¡Œçš„ã€‚\\n\"),n(\"strong\",[e._v(\"æ³¨æ„âš ï¸\")]),e._v(\"ï¼šä¹‹å‰æˆ‘ä»¬å¾ˆå®¹æ˜“å°±ä»¥ä¸ºçœ‹åˆ°new Promise()å°±æ‰§è¡Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°äº†ï¼Œå…¶å®è¿™æ˜¯ä¸å¯¹çš„ï¼Œå°±åƒè¿™ä¸¤é“é¢˜ä¸­ï¼Œæˆ‘ä»¬å¾—æ³¨æ„å®ƒæ˜¯ä¸æ˜¯è¢«åŒ…è£¹åœ¨å‡½æ•°å½“ä¸­ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåªæœ‰åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚\\nç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('\"start\"\\n1\\n\"success\"\\n')])])]),n(\"h3\",{attrs:{id:\"_2-promiseç»“åˆsettimeout\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-promiseç»“åˆsettimeout\"}},[e._v(\"#\")]),e._v(\" 2. Promiseç»“åˆsetTimeout\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_2-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 2.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"console.log('start')\\nsetTimeout(() => {\\n  console.log('time')\\n})\\nPromise.resolve().then(() => {\\n  console.log('resolve')\\n})\\nconsole.log('end')\\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"åˆšå¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡æ¥æ‰§è¡Œï¼Œå¯¹äºåŒæ­¥ä»£ç ç›´æ¥å‹å…¥æ‰§è¡Œæ ˆè¿›è¡Œæ‰§è¡Œï¼Œå› æ­¤å…ˆæ‰“å°å‡º\"),n(\"code\",[e._v(\"start\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"end\")]),e._v(\"ã€‚\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"setTimout\")]),e._v(\"ä½œä¸ºä¸€ä¸ªå®ä»»åŠ¡è¢«æ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—(ä¸‹ä¸€ä¸ª)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"Promise.then\")]),e._v(\"ä½œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡è¢«æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—\")]),e._v(\" \"),n(\"li\",[e._v(\"æœ¬æ¬¡å®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œæ£€æŸ¥å¾®ä»»åŠ¡ï¼Œå‘ç°\"),n(\"code\",[e._v(\"Promise.then\")]),e._v(\"ï¼Œæ‰§è¡Œå®ƒ\")]),e._v(\" \"),n(\"li\",[e._v(\"æ¥ä¸‹æ¥è¿›å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå‘ç°\"),n(\"code\",[e._v(\"setTimeout\")]),e._v(\"ï¼Œæ‰§è¡Œã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'start'\\n'end'\\n'resolve'\\n'time'\\n\")])])]),n(\"h4\",{attrs:{id:\"_2-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 2.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('const promise = new Promise((resolve, reject) => {\\n  console.log(1);\\n  setTimeout(() => {\\n    console.log(\"timerStart\");\\n    resolve(\"success\");\\n    console.log(\"timerEnd\");\\n  }, 0);\\n  console.log(2);\\n});\\npromise.then((res) => {\\n  console.log(res);\\n});\\nconsole.log(4);\\n')])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\\nå’Œé¢˜ç›®\"),n(\"code\",[e._v(\"1.2\")]),e._v(\"å¾ˆåƒï¼Œä¸è¿‡åœ¨\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"çš„å¤–å±‚åŠ äº†ä¸€å±‚\"),n(\"code\",[e._v(\"setTimeout\")]),e._v(\"å®šæ—¶å™¨ã€‚\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆé‡åˆ°\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç \"),n(\"code\",[e._v(\"1\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶åç¢°åˆ°äº†å®šæ—¶å™¨ï¼Œå°†è¿™ä¸ªå®šæ—¶å™¨ä¸­çš„å‡½æ•°æ”¾åˆ°ä¸‹ä¸€ä¸ªå®ä»»åŠ¡çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"2\")])]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"promise\")]),e._v(\"å‡½æ•°ï¼Œé‡åˆ°\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"ï¼Œä½†å…¶çŠ¶æ€è¿˜æ˜¯ä¸º\"),n(\"code\",[e._v(\"pending\")]),e._v(\"ï¼Œè¿™é‡Œç†è§£ä¸ºå…ˆä¸æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"4\")])]),e._v(\" \"),n(\"li\",[e._v(\"ä¸€è½®å¾ªç¯è¿‡åï¼Œè¿›å…¥ç¬¬äºŒæ¬¡å®ä»»åŠ¡ï¼Œå‘ç°å»¶è¿Ÿé˜Ÿåˆ—ä¸­æœ‰\"),n(\"code\",[e._v(\"setTimeout\")]),e._v(\"å®šæ—¶å™¨ï¼Œæ‰§è¡Œå®ƒ\")]),e._v(\" \"),n(\"li\",[e._v(\"é¦–å…ˆæ‰§è¡Œ\"),n(\"code\",[e._v(\"timerStart\")]),e._v(\"ï¼Œç„¶åé‡åˆ°äº†\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"ï¼Œå°†\"),n(\"code\",[e._v(\"promise\")]),e._v(\"çš„çŠ¶æ€æ”¹ä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"ä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—\")]),e._v(\" \"),n(\"li\",[e._v(\"ç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"timerEnd\")])]),e._v(\" \"),n(\"li\",[e._v(\"å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œæ‰§è¡Œå®ƒã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"å› æ­¤æ‰§è¡Œç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('1\\n2\\n4\\n\"timerStart\"\\n\"timerEnd\"\\n\"success\"\\n')])])]),n(\"h4\",{attrs:{id:\"_2-3-é¢˜ç›®ä¸‰\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-é¢˜ç›®ä¸‰\"}},[e._v(\"#\")]),e._v(\" 2.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"p\",[e._v(\"é¢˜ç›®ä¸‰åˆ†äº†ä¸¤ä¸ªé¢˜ç›®ï¼Œå› ä¸ºçœ‹ç€éƒ½å·®ä¸å¤šï¼Œä¸è¿‡æ‰§è¡Œçš„ç»“æœå´ä¸ä¸€æ ·ï¼Œå¤§å®¶ä¸å¦¨å…ˆçŒœçŒœä¸‹é¢ä¸¤ä¸ªé¢˜ç›®åˆ†åˆ«æ‰§è¡Œä»€ä¹ˆï¼š\\n\"),n(\"strong\",[e._v(\"(1)\")]),e._v(\":\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"setTimeout(() => {\\n  console.log('timer1');\\n  setTimeout(() => {\\n    console.log('timer3')\\n  }, 0)\\n}, 0)\\nsetTimeout(() => {\\n  console.log('timer2')\\n}, 0)\\nconsole.log('start')\\n\")])])]),n(\"p\",[n(\"strong\",[e._v(\"(2)\")]),e._v(\":\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"setTimeout(() => {\\n  console.log('timer1');\\n  Promise.resolve().then(() => {\\n    console.log('promise')\\n  })\\n}, 0)\\nsetTimeout(() => {\\n  console.log('timer2')\\n}, 0)\\nconsole.log('start')\\n\")])])]),n(\"p\",[n(\"strong\",[e._v(\"æ‰§è¡Œç»“æœï¼š\")])]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'start'\\n'timer1'\\n'timer2'\\n'timer3'\\n\")])])]),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'start'\\n'timer1'\\n'promise'\\n'timer2'\\n\")])])]),n(\"p\",[e._v(\"è¿™ä¸¤ä¸ªä¾‹å­ï¼Œçœ‹ç€å¥½åƒåªæ˜¯æŠŠç¬¬ä¸€ä¸ªå®šæ—¶å™¨ä¸­çš„å†…å®¹æ¢äº†ä¸€ä¸‹è€Œå·²ã€‚\\nä¸€ä¸ªæ˜¯ä¸ºå®šæ—¶å™¨\"),n(\"code\",[e._v(\"timer3\")]),e._v(\"ï¼Œä¸€ä¸ªæ˜¯ä¸º\"),n(\"code\",[e._v(\"Promise.then\")]),e._v(\"\\nä½†æ˜¯å¦‚æœæ˜¯å®šæ—¶å™¨\"),n(\"code\",[e._v(\"timer3\")]),e._v(\"çš„è¯ï¼Œå®ƒä¼šåœ¨\"),n(\"code\",[e._v(\"timer2\")]),e._v(\"åæ‰§è¡Œï¼Œè€Œ\"),n(\"code\",[e._v(\"Promise.then\")]),e._v(\"å´æ˜¯åœ¨\"),n(\"code\",[e._v(\"timer2\")]),e._v(\"ä¹‹å‰æ‰§è¡Œã€‚\\nä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œ\"),n(\"code\",[e._v(\"Promise.then\")]),e._v(\"æ˜¯å¾®ä»»åŠ¡ï¼Œå®ƒä¼šè¢«åŠ å…¥åˆ°æœ¬è½®ä¸­çš„å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œè€Œå®šæ—¶å™¨\"),n(\"code\",[e._v(\"timer3\")]),e._v(\"æ˜¯å®ä»»åŠ¡ï¼Œå®ƒä¼šè¢«åŠ å…¥åˆ°ä¸‹ä¸€è½®çš„å®ä»»åŠ¡ä¸­ã€‚\\nç†è§£å®Œè¿™ä¸¤ä¸ªæ¡ˆä¾‹ï¼Œå¯ä»¥æ¥çœ‹çœ‹ä¸‹é¢ä¸€é“æ¯”è¾ƒéš¾çš„é¢˜ç›®äº†ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_2-3-é¢˜ç›®ä¸‰-2\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-é¢˜ç›®ä¸‰-2\"}},[e._v(\"#\")]),e._v(\" 2.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve().then(() => {\\n  console.log('promise1');\\n  const timer2 = setTimeout(() => {\\n    console.log('timer2')\\n  }, 0)\\n});\\nconst timer1 = setTimeout(() => {\\n  console.log('timer1')\\n  Promise.resolve().then(() => {\\n    console.log('promise2')\\n  })\\n}, 0)\\nconsole.log('start');\\n\")])])]),n(\"p\",[e._v(\"è¿™é“é¢˜ç¨å¾®çš„éš¾ä¸€äº›ï¼Œåœ¨\"),n(\"code\",[e._v(\"promise\")]),e._v(\"ä¸­æ‰§è¡Œå®šæ—¶å™¨ï¼Œåˆåœ¨å®šæ—¶å™¨ä¸­æ‰§è¡Œ\"),n(\"code\",[e._v(\"promise\")]),e._v(\"ï¼›\\nå¹¶ä¸”è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æ˜¯ç›´æ¥\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"çš„ï¼Œè€Œä¹‹å‰çš„\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ä¸ä¸€æ ·ã€‚\\n(å·å·å‘Šè¯‰ä½ ï¼Œè¿™é“é¢˜å¾€ä¸‹ä¸€ç‚¹æœ‰æµç¨‹å›¾)\\nå› æ­¤è¿‡ç¨‹åˆ†æä¸ºï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"åˆšå¼€å§‹æ•´ä¸ªè„šæœ¬ä½œä¸ºç¬¬ä¸€æ¬¡å®ä»»åŠ¡æ¥æ‰§è¡Œï¼Œæˆ‘ä»¬å°†å®ƒæ ‡è®°ä¸º\"),n(\"strong\",[e._v(\"å®1\")]),e._v(\"ï¼Œä»ä¸Šè‡³ä¸‹æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"é‡åˆ°\"),n(\"code\",[e._v(\"Promise.resolve().then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†\"),n(\"code\",[e._v(\"then\")]),e._v(\"ä¸­çš„å†…å®¹åŠ å…¥ç¬¬ä¸€æ¬¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—æ ‡è®°ä¸º\"),n(\"strong\",[e._v(\"å¾®1\")])]),e._v(\" \"),n(\"li\",[e._v(\"é‡åˆ°å®šæ—¶å™¨\"),n(\"code\",[e._v(\"timer1\")]),e._v(\"ï¼Œå°†å®ƒåŠ å…¥ä¸‹ä¸€æ¬¡å®ä»»åŠ¡çš„å»¶è¿Ÿåˆ—è¡¨ï¼Œæ ‡è®°ä¸º\"),n(\"strong\",[e._v(\"å®2\")]),e._v(\"ï¼Œç­‰å¾…æ‰§è¡Œ(å…ˆä¸ç®¡é‡Œé¢æ˜¯ä»€ä¹ˆå†…å®¹)\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡Œ\"),n(\"strong\",[e._v(\"å®1\")]),e._v(\"ä¸­çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"start\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç¬¬ä¸€æ¬¡å®ä»»åŠ¡(\"),n(\"strong\",[e._v(\"å®1\")]),e._v(\")æ‰§è¡Œå®Œæ¯•ï¼Œæ£€æŸ¥ç¬¬ä¸€æ¬¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(\"),n(\"strong\",[e._v(\"å¾®1\")]),e._v(\")ï¼Œå‘ç°æœ‰ä¸€ä¸ª\"),n(\"code\",[e._v(\"promise.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡Œæ‰“å°å‡º\"),n(\"strong\",[e._v(\"å¾®1\")]),e._v(\"ä¸­åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"promise1\")]),e._v(\"ï¼Œç„¶åå‘ç°å®šæ—¶å™¨\"),n(\"code\",[e._v(\"timer2\")]),e._v(\"ï¼Œå°†å®ƒåŠ å…¥\"),n(\"strong\",[e._v(\"å®2\")]),e._v(\"çš„åé¢ï¼Œæ ‡è®°ä¸º\"),n(\"strong\",[e._v(\"å®3\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç¬¬ä¸€æ¬¡å¾®ä»»åŠ¡é˜Ÿåˆ—(\"),n(\"strong\",[e._v(\"å¾®1\")]),e._v(\")æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œç¬¬äºŒæ¬¡å®ä»»åŠ¡(\"),n(\"strong\",[e._v(\"å®2\")]),e._v(\")ï¼Œé¦–å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"timer1\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶åé‡åˆ°äº†\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒåŠ å…¥æ­¤æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ ‡è®°ä¸º\"),n(\"strong\",[e._v(\"å¾®2\")])]),e._v(\" \"),n(\"li\",[n(\"strong\",[e._v(\"å®2\")]),e._v(\"ä¸­æ²¡æœ‰åŒæ­¥ä»£ç å¯æ‰§è¡Œäº†ï¼ŒæŸ¥æ‰¾æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(\"),n(\"strong\",[e._v(\"å¾®2\")]),e._v(\")ï¼Œå‘ç°äº†\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"ï¼Œæ‰§è¡Œå®ƒ\")]),e._v(\" \"),n(\"li\",[e._v(\"ç¬¬äºŒè½®æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œ\"),n(\"strong\",[e._v(\"å®3\")]),e._v(\"ï¼Œæ‰“å°å‡º\"),n(\"code\",[e._v(\"timer2\")])])]),e._v(\" \"),n(\"p\",[e._v(\"æ‰€ä»¥ç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'start'\\n'promise1'\\n'timer1'\\n'promise2'\\n'timer2'\\n\")])])]),n(\"p\",[e._v(\"å¦‚æœæ„Ÿè§‰æœ‰ç‚¹ç»•çš„è¯ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œå°±ä¸€ç›®äº†ç„¶äº†ã€‚\\n\"),n(\"img\",{attrs:{src:\"https://cdn.nlark.com/yuque/0/2021/webp/12821255/1626357897764-38091db6-91bb-4529-9680-180cc0281583.webp#align=left&display=inline&height=665&margin=%5Bobject%20Object%5D&originHeight=665&originWidth=1280&size=0&status=done&style=none&width=1280\",alt:\"\"}})]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_2-4-é¢˜ç›®å››\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-4-é¢˜ç›®å››\"}},[e._v(\"#\")]),e._v(\" 2.4 é¢˜ç›®å››\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const promise1 = new Promise((resolve, reject) => {\\n  setTimeout(() => {\\n    resolve('success')\\n  }, 1000)\\n})\\nconst promise2 = promise1.then(() => {\\n  throw new Error('error!!!')\\n})\\nconsole.log('promise1', promise1)\\nconsole.log('promise2', promise2)\\nsetTimeout(() => {\\n  console.log('promise1', promise1)\\n  console.log('promise2', promise2)\\n}, 2000)\\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"ä»ä¸Šè‡³ä¸‹ï¼Œå…ˆæ‰§è¡Œç¬¬ä¸€ä¸ª\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ä¸­çš„å‡½æ•°ï¼Œç¢°åˆ°\"),n(\"code\",[e._v(\"setTimeout\")]),e._v(\"å°†å®ƒåŠ å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡åˆ—è¡¨\")]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ï¼Œç¢°åˆ°\"),n(\"code\",[e._v(\"promise1.then\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œä½†å…¶çŠ¶æ€è¿˜æ˜¯ä¸º\"),n(\"code\",[e._v(\"pending\")]),e._v(\"ï¼Œè¿™é‡Œç†è§£ä¸ºå…ˆä¸æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"promise2\")]),e._v(\"æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"pending\")]),e._v(\"çš„\"),n(\"code\",[e._v(\"Promise\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"console.log('promise1')\")]),e._v(\"ï¼Œä¸”æ‰“å°å‡ºçš„\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"çš„çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"pending\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"console.log('promise2')\")]),e._v(\"ï¼Œä¸”æ‰“å°å‡ºçš„\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"çš„çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"pending\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç¢°åˆ°ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œå°†å…¶æ”¾å…¥ä¸‹ä¸€ä¸ªå®ä»»åŠ¡åˆ—è¡¨\")]),e._v(\" \"),n(\"li\",[e._v(\"ç¬¬ä¸€è½®å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œå¹¶ä¸”æ²¡æœ‰å¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œç¬¬äºŒè½®å®ä»»åŠ¡\")]),e._v(\" \"),n(\"li\",[e._v(\"å…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªå®šæ—¶å™¨é‡Œçš„å†…å®¹ï¼Œå°†\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"çš„çŠ¶æ€æ”¹ä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"ä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„\"),n(\"code\",[e._v(\"promise1.then\")]),e._v(\"æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—\")]),e._v(\" \"),n(\"li\",[e._v(\"è¯¥å®šæ—¶å™¨ä¸­æ²¡æœ‰å…¶å®ƒçš„åŒæ­¥ä»£ç å¯æ‰§è¡Œï¼Œå› æ­¤æ‰§è¡Œæœ¬è½®çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯\"),n(\"code\",[e._v(\"promise1.then\")]),e._v(\"ï¼Œå®ƒæŠ›å‡ºäº†ä¸€ä¸ªé”™è¯¯ï¼Œä¸”å°†\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"çš„çŠ¶æ€è®¾ç½®ä¸ºäº†\"),n(\"code\",[e._v(\"rejected\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç¬¬ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æ‰§è¡Œç¬¬äºŒä¸ªå®šæ—¶å™¨ä¸­çš„å†…å®¹\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰“å°å‡º\"),n(\"code\",[e._v(\"'promise1'\")]),e._v(\"ï¼Œä¸”æ­¤æ—¶\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"çš„çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"resolved\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ‰“å°å‡º\"),n(\"code\",[e._v(\"'promise2'\")]),e._v(\"ï¼Œä¸”æ­¤æ—¶\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"çš„çŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"rejected\")])])]),e._v(\" \"),n(\"p\",[e._v(\"å®Œæ•´çš„ç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'promise1' Promise{<pending>}\\n'promise2' Promise{<pending>}\\ntest5.html:102 Uncaught (in promise) Error: error!!! at test.html:102\\n'promise1' Promise{<resolved>: \\\"success\\\"}\\n'promise2' Promise{<rejected>: Error: error!!!}\\n\")])])]),n(\"h4\",{attrs:{id:\"_2-5-é¢˜ç›®äº”\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-5-é¢˜ç›®äº”\"}},[e._v(\"#\")]),e._v(\" 2.5 é¢˜ç›®äº”\")]),e._v(\" \"),n(\"p\",[e._v(\"å¦‚æœä½ ä¸Šé¢è¿™é“é¢˜ææ‡‚äº†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åšåšè¿™é“äº†ï¼Œä½ åº”è¯¥èƒ½å¾ˆå¿«å°±ç»™å‡ºç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('const promise1 = new Promise((resolve, reject) => {\\n  setTimeout(() => {\\n    resolve(\"success\");\\n    console.log(\"timer1\");\\n  }, 1000);\\n  console.log(\"promise1é‡Œçš„å†…å®¹\");\\n});\\nconst promise2 = promise1.then(() => {\\n  throw new Error(\"error!!!\");\\n});\\nconsole.log(\"promise1\", promise1);\\nconsole.log(\"promise2\", promise2);\\nsetTimeout(() => {\\n  console.log(\"timer2\");\\n  console.log(\"promise1\", promise1);\\n  console.log(\"promise2\", promise2);\\n}, 2000);\\n')])])]),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'promise1é‡Œçš„å†…å®¹'\\n'promise1' Promise{<pending>}\\n'promise2' Promise{<pending>}\\n'timer1'\\ntest5.html:102 Uncaught (in promise) Error: error!!! at test.html:102\\n'timer2'\\n'promise1' Promise{<resolved>: \\\"success\\\"}\\n'promise2' Promise{<rejected>: Error: error!!!}\\n\")])])]),n(\"h3\",{attrs:{id:\"_3-promiseä¸­çš„thenã€catchã€finally\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-promiseä¸­çš„thenã€catchã€finally\"}},[e._v(\"#\")]),e._v(\" 3. Promiseä¸­çš„thenã€catchã€finally\")]),e._v(\" \"),n(\"p\",[e._v(\"é¢ï¼Œå¯èƒ½ä½ çœ‹åˆ°ä¸‹é¢ğŸ‘‡è¿™ä¹ˆå¤šçš„\"),n(\"code\",[e._v(\"1ï¼Œ2ï¼Œ3\")]),e._v(\"è„¾æ°”å°±ä¸Šæ¥äº†ï¼Œä¸æ˜¯è¯´å¥½äº†æœ¬ç¯‡æ–‡ç« æ²¡ä»€ä¹ˆå±è¯å˜›ï¼Œæ€ä¹ˆè¿˜æ˜¯è¿™ä¹ˆå¤šä¸€äºŒä¸‰å››ã€‚\\nğŸ˜‚ï¼Œä½ è¦ç†è§£æˆ‘çš„ç”¨å¿ƒè‰¯è‹¦å•Šï¼Œæˆ‘è¿™æ˜¯å¸®ä½ æŠŠçŸ¥è¯†ç‚¹éƒ½åˆ—ä¸¾å‡ºæ¥ï¼Œåšä¸ªæ€»ç»“è€Œå·²ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆä¸çœ‹ï¼Œå…ˆå»åšåé¢çš„é¢˜ï¼Œç„¶åå†å›è¿‡å¤´æ¥çœ‹è¿™äº›ï¼Œä½ å°±è§‰å¾—è¿™äº›ç‚¹éƒ½å¥½å¥½æ‡‚å•Šï¼Œç”šè‡³éƒ½ä¸éœ€è¦è®°ã€‚\\n\"),n(\"strong\",[e._v(\"æ€»ç»“ï¼š\")])]),e._v(\" \"),n(\"ol\",[n(\"li\",[n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜ã€‚(è§3.1)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".then\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\".catch\")]),e._v(\"éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ã€‚(ä¸Šé¢çš„ğŸ‘†1.4è¯æ˜äº†)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"catch\")]),e._v(\"ä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯ã€‚(è§3.2)\")]),e._v(\" \"),n(\"li\",[e._v(\"åœ¨\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ä¸­ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªé \"),n(\"code\",[e._v(\"promise\")]),e._v(\" çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ \"),n(\"code\",[e._v(\"promise\")]),e._v(\" å¯¹è±¡ï¼Œä¾‹å¦‚\"),n(\"code\",[e._v(\"return 2\")]),e._v(\"ä¼šè¢«åŒ…è£…ä¸º\"),n(\"code\",[e._v(\"return Promise.resolve(2)\")]),e._v(\"ã€‚\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"Promise\")]),e._v(\" çš„ \"),n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡, ä½†å¦‚æœ\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"å†…éƒ¨çš„çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨\"),n(\"code\",[e._v(\".then\")]),e._v(\"æˆ–è€…\"),n(\"code\",[e._v(\".catch\")]),e._v(\"çš„æ—¶å€™éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚(è§3.5)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" ä¸­ \"),n(\"code\",[e._v(\"return\")]),e._v(\" ä¸€ä¸ª \"),n(\"code\",[e._v(\"error\")]),e._v(\" å¯¹è±¡å¹¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥ä¸ä¼šè¢«åç»­çš„ \"),n(\"code\",[e._v(\".catch\")]),e._v(\" æ•è·ã€‚(è§3.6)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".then\")]),e._v(\" æˆ– \"),n(\"code\",[e._v(\".catch\")]),e._v(\" è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚(è§3.7)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ ã€‚(è§3.8)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".then\")]),e._v(\"æ–¹æ³•æ˜¯èƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°çš„ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¤„ç†æˆåŠŸçš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°ï¼Œå†æŸäº›æ—¶å€™ä½ å¯ä»¥è®¤ä¸º\"),n(\"code\",[e._v(\"catch\")]),e._v(\"æ˜¯\"),n(\"code\",[e._v(\".then\")]),e._v(\"ç¬¬äºŒä¸ªå‚æ•°çš„ç®€ä¾¿å†™æ³•ã€‚(è§3.9)\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".finally\")]),e._v(\"æ–¹æ³•ä¹Ÿæ˜¯è¿”å›ä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ï¼Œä»–åœ¨\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ç»“æŸçš„æ—¶å€™ï¼Œæ— è®ºç»“æœä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"è¿˜æ˜¯\"),n(\"code\",[e._v(\"rejected\")]),e._v(\"ï¼Œéƒ½ä¼šæ‰§è¡Œé‡Œé¢çš„å›è°ƒå‡½æ•°ã€‚\")])]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_3-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 3.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('const promise = new Promise((resolve, reject) => {\\n  resolve(\"success1\");\\n  reject(\"error\");\\n  resolve(\"success2\");\\n});\\npromise\\n.then(res => {\\n    console.log(\"then: \", res);\\n  }).catch(err => {\\n    console.log(\"catch: \", err);\\n  })\\n')])])]),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('\"then: success1\"\\n')])])]),n(\"p\",[e._v(\"æ„é€ å‡½æ•°ä¸­çš„ \"),n(\"code\",[e._v(\"resolve\")]),e._v(\" æˆ– \"),n(\"code\",[e._v(\"reject\")]),e._v(\" åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œæœ‰æ•ˆï¼Œå¤šæ¬¡è°ƒç”¨æ²¡æœ‰ä»»ä½•ä½œç”¨ ã€‚éªŒè¯äº†ç¬¬ä¸€ä¸ªç»“è®ºï¼Œ\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸èƒ½å†æ”¹å˜ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_3-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 3.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('const promise = new Promise((resolve, reject) => {\\n  reject(\"error\");\\n  resolve(\"success2\");\\n});\\npromise\\n.then(res => {\\n    console.log(\"then1: \", res);\\n  }).then(res => {\\n    console.log(\"then2: \", res);\\n  }).catch(err => {\\n    console.log(\"catch: \", err);\\n  }).then(res => {\\n    console.log(\"then3: \", res);\\n  })\\n')])])]),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('\"catch: \" \"error\"\\n\"then3: \" undefined\\n')])])]),n(\"p\",[e._v(\"éªŒè¯äº†ç¬¬ä¸‰ä¸ªç»“è®ºï¼Œ\"),n(\"code\",[e._v(\"catch\")]),e._v(\"ä¸ç®¡è¢«è¿æ¥åˆ°å“ªé‡Œï¼Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•æ‰è¿‡çš„é”™è¯¯ã€‚\\nè‡³äº\"),n(\"code\",[e._v(\"then3\")]),e._v(\"ä¹Ÿä¼šè¢«æ‰§è¡Œï¼Œé‚£æ˜¯å› ä¸º\"),n(\"code\",[e._v(\"catch()\")]),e._v(\"ä¹Ÿä¼šè¿”å›ä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ï¼Œä¸”ç”±äºè¿™ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„æ˜¯\"),n(\"code\",[e._v(\"undefined\")]),e._v(\"ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_3-3-é¢˜ç›®ä¸‰\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-3-é¢˜ç›®ä¸‰\"}},[e._v(\"#\")]),e._v(\" 3.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve(1)\\n  .then(res => {\\n    console.log(res);\\n    return 2;\\n  })\\n  .catch(err => {\\n    return 3;\\n  })\\n  .then(res => {\\n    console.log(res);\\n  });\\n\")])])]),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n2\\n\")])])]),n(\"p\",[n(\"code\",[e._v(\"Promise\")]),e._v(\"å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œä¸è¿‡\"),n(\"code\",[e._v(\"promise\")]),e._v(\" æ¯æ¬¡è°ƒç”¨ \"),n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ \"),n(\"code\",[e._v(\"promise\")]),e._v(\"ï¼Œä»è€Œå®ç°äº†é“¾å¼è°ƒç”¨, å®ƒå¹¶ä¸åƒä¸€èˆ¬æˆ‘ä»¬ä»»åŠ¡çš„é“¾å¼è°ƒç”¨ä¸€æ ·\"),n(\"code\",[e._v(\"return this\")]),e._v(\"ã€‚\\nä¸Šé¢çš„è¾“å‡ºç»“æœä¹‹æ‰€ä»¥ä¾æ¬¡æ‰“å°å‡º\"),n(\"code\",[e._v(\"1\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"2\")]),e._v(\"ï¼Œé‚£æ˜¯å› ä¸º\"),n(\"code\",[e._v(\"resolve(1)\")]),e._v(\"ä¹‹åèµ°çš„æ˜¯ç¬¬ä¸€ä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰èµ°\"),n(\"code\",[e._v(\"catch\")]),e._v(\"é‡Œï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"res\")]),e._v(\"å¾—åˆ°çš„å®é™…ä¸Šæ˜¯ç¬¬ä¸€ä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"çš„è¿”å›å€¼ã€‚\\nä¸”\"),n(\"code\",[e._v(\"return 2\")]),e._v(\"ä¼šè¢«åŒ…è£…æˆ\"),n(\"code\",[e._v(\"resolve(2)\")]),e._v(\"ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_3-4-é¢˜ç›®å››\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-4-é¢˜ç›®å››\"}},[e._v(\"#\")]),e._v(\" 3.4 é¢˜ç›®å››\")]),e._v(\" \"),n(\"p\",[e._v(\"å¦‚æœæŠŠ\"),n(\"code\",[e._v(\"3.3\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"Promise.resolve(1)\")]),e._v(\"æ”¹ä¸º\"),n(\"code\",[e._v(\"Promise.reject(1)\")]),e._v(\"åˆä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.reject(1)\\n  .then(res => {\\n    console.log(res);\\n    return 2;\\n  })\\n  .catch(err => {\\n    console.log(err);\\n    return 3\\n  })\\n  .then(res => {\\n    console.log(res);\\n  });\\n\")])])]),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n3\\n\")])])]),n(\"p\",[e._v(\"ç»“æœæ‰“å°çš„å½“ç„¶æ˜¯ \"),n(\"code\",[e._v(\"1 å’Œ 3\")]),e._v(\"å•¦ï¼Œå› ä¸º\"),n(\"code\",[e._v(\"reject(1)\")]),e._v(\"æ­¤æ—¶èµ°çš„å°±æ˜¯\"),n(\"code\",[e._v(\"catch\")]),e._v(\"ï¼Œä¸”ç¬¬äºŒä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"res\")]),e._v(\"å¾—åˆ°çš„å°±æ˜¯\"),n(\"code\",[e._v(\"catch\")]),e._v(\"ä¸­çš„è¿”å›å€¼ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_3-5-é¢˜ç›®äº”\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-5-é¢˜ç›®äº”\"}},[e._v(\"#\")]),e._v(\" 3.5 é¢˜ç›®äº”\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const promise = new Promise((resolve, reject) => {\\n  setTimeout(() => {\\n    console.log('timer')\\n    resolve('success')\\n  }, 1000)\\n})\\nconst start = Date.now();\\npromise.then(res => {\\n  console.log(res, Date.now() - start)\\n})\\npromise.then(res => {\\n  console.log(res, Date.now() - start)\\n})\\n\")])])]),n(\"p\",[e._v(\"æ‰§è¡Œç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'timer'\\n'success' 1001\\n'success' 1002\\n\")])])]),n(\"p\",[e._v(\"å½“ç„¶ï¼Œå¦‚æœä½ è¶³å¤Ÿå¿«çš„è¯ï¼Œä¹Ÿå¯èƒ½ä¸¤ä¸ªéƒ½æ˜¯\"),n(\"code\",[e._v(\"1001\")]),e._v(\"ã€‚\\n\"),n(\"code\",[e._v(\"Promise\")]),e._v(\" çš„ \"),n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œä½†è¿™é‡Œ \"),n(\"code\",[e._v(\"Promise\")]),e._v(\" æ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚æˆ–è€…è¯´ \"),n(\"code\",[e._v(\"promise\")]),e._v(\" å†…éƒ¨çŠ¶æ€ä¸€ç»æ”¹å˜ï¼Œå¹¶ä¸”æœ‰äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåç»­æ¯æ¬¡è°ƒç”¨ \"),n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" éƒ½ä¼šç›´æ¥æ‹¿åˆ°è¯¥å€¼ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_3-6-é¢˜ç›®å…­\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-6-é¢˜ç›®å…­\"}},[e._v(\"#\")]),e._v(\" 3.6 é¢˜ç›®å…­\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('Promise.resolve().then(() => {\\n  return new Error(\\'error!!!\\')\\n}).then(res => {\\n  console.log(\"then: \", res)\\n}).catch(err => {\\n  console.log(\"catch: \", err)\\n})\\n')])])]),n(\"p\",[e._v(\"çŒœçŒœè¿™é‡Œçš„ç»“æœè¾“å‡ºçš„æ˜¯ä»€ä¹ˆ ğŸ¤”ï¸ ï¼Ÿ\\nä½ å¯èƒ½æƒ³åˆ°çš„æ˜¯è¿›å…¥\"),n(\"code\",[e._v(\".catch\")]),e._v(\"ç„¶åè¢«æ•è·äº†é”™è¯¯ã€‚\\nç»“æœå¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå®ƒèµ°çš„æ˜¯\"),n(\"code\",[e._v(\".then\")]),e._v(\"é‡Œé¢ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('\"then: \" \"Error: error!!!\"\\n')])])]),n(\"p\",[e._v(\"è¿™ä¹ŸéªŒè¯äº†ç¬¬4ç‚¹å’Œç¬¬6ç‚¹ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªé \"),n(\"code\",[e._v(\"promise\")]),e._v(\" çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ \"),n(\"code\",[e._v(\"promise\")]),e._v(\" å¯¹è±¡ï¼Œå› æ­¤è¿™é‡Œçš„\"),n(\"code\",[e._v(\"return new Error('error!!!')\")]),e._v(\"ä¹Ÿè¢«åŒ…è£¹æˆäº†\"),n(\"code\",[e._v(\"return Promise.resolve(new Error('error!!!'))\")]),e._v(\"ã€‚\\nå½“ç„¶å¦‚æœä½ æŠ›å‡ºä¸€ä¸ªé”™è¯¯çš„è¯ï¼Œå¯ä»¥ç”¨ä¸‹é¢ğŸ‘‡ä¸¤çš„ä»»æ„ä¸€ç§ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"return Promise.reject(new Error('error!!!'));\\n// or\\nthrow new Error('error!!!')\\n\")])])]),n(\"h4\",{attrs:{id:\"_3-7-é¢˜ç›®ä¸ƒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-7-é¢˜ç›®ä¸ƒ\"}},[e._v(\"#\")]),e._v(\" 3.7 é¢˜ç›®ä¸ƒ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const promise = Promise.resolve().then(() => {\\n  return promise;\\n})\\npromise.catch(console.err)\\n\")])])]),n(\"p\",[n(\"code\",[e._v(\".then\")]),e._v(\" æˆ– \"),n(\"code\",[e._v(\".catch\")]),e._v(\" è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚\\nå› æ­¤ç»“æœä¼šæŠ¥é”™ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Uncaught (in promise) TypeError: Chaining cycle detected for promise #<Promise>\\n\")])])]),n(\"h4\",{attrs:{id:\"_3-8-é¢˜ç›®å…«\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-8-é¢˜ç›®å…«\"}},[e._v(\"#\")]),e._v(\" 3.8 é¢˜ç›®å…«\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve(1)\\n  .then(2)\\n  .then(Promise.resolve(3))\\n  .then(console.log)\\n\")])])]),n(\"p\",[e._v(\"è¿™é“é¢˜çœ‹ç€å¥½åƒå¾ˆç®€å•ï¼Œåˆæ„Ÿè§‰å¾ˆå¤æ‚çš„æ ·å­ï¼Œæ€ä¹ˆè¿™ä¹ˆå¤šä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"å•Š... ğŸ˜…\")]),e._v(\" \"),n(\"p\",[e._v(\"å…¶å®ä½ åªè¦è®°ä½\"),n(\"strong\",[e._v(\"åŸåˆ™8\")]),e._v(\"ï¼š\"),n(\"code\",[e._v(\".then\")]),e._v(\" æˆ–è€… \"),n(\"code\",[e._v(\".catch\")]),e._v(\" çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿå€¼é€ä¼ ã€‚\\nç¬¬ä¸€ä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"å’Œç¬¬äºŒä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"ä¸­ä¼ å…¥çš„éƒ½ä¸æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ•°å­—ç±»å‹ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡ç±»å‹ï¼Œå› æ­¤å‘ç”Ÿäº†é€ä¼ ï¼Œå°†\"),n(\"code\",[e._v(\"resolve(1)\")]),e._v(\" çš„å€¼ç›´æ¥ä¼ åˆ°æœ€åä¸€ä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"é‡Œã€‚\\næ‰€ä»¥è¾“å‡ºç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n\")])])]),n(\"h4\",{attrs:{id:\"_3-9-é¢˜ç›®ä¹\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-9-é¢˜ç›®ä¹\"}},[e._v(\"#\")]),e._v(\" 3.9 é¢˜ç›®ä¹\")]),e._v(\" \"),n(\"p\",[e._v(\"ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹\"),n(\"code\",[e._v(\".then\")]),e._v(\"å‡½æ•°ä¸­çš„ä¸¤ä¸ªå‚æ•°ã€‚\\nç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æ¥å¤„ç†\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æˆåŠŸçš„å‡½æ•°ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°ã€‚\\nä¹Ÿå°±æ˜¯è¯´\"),n(\"code\",[e._v(\"Promise.resolve('1')\")]),e._v(\"çš„å€¼ä¼šè¿›å…¥æˆåŠŸçš„å‡½æ•°ï¼Œ\"),n(\"code\",[e._v(\"Promise.reject('2')\")]),e._v(\"çš„å€¼ä¼šè¿›å…¥å¤±è´¥çš„å‡½æ•°ã€‚\\nè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­ğŸŒ°ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.reject('err!!!')\\n  .then((res) => {\\n    console.log('success', res)\\n  }, (err) => {\\n    console.log('error', err)\\n  }).catch(err => {\\n    console.log('catch', err)\\n  })\\n\")])])]),n(\"p\",[e._v(\"è¿™é‡Œçš„æ‰§è¡Œç»“æœæ˜¯ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'error' 'error!!!'\\n\")])])]),n(\"p\",[e._v(\"å®ƒè¿›å…¥çš„æ˜¯\"),n(\"code\",[e._v(\"then()\")]),e._v(\"ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°é‡Œé¢ï¼Œè€Œå¦‚æœæŠŠç¬¬äºŒä¸ªå‚æ•°å»æ‰ï¼Œå°±è¿›å…¥äº†\"),n(\"code\",[e._v(\"catch()\")]),e._v(\"ä¸­ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.reject('error!!!')\\n  .then((res) => {\\n    console.log('success', res)\\n  }).catch(err => {\\n    console.log('catch', err)\\n  })\\n\")])])]),n(\"p\",[e._v(\"æ‰§è¡Œç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'catch' 'error!!!'\\n\")])])]),n(\"p\",[e._v(\"ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ˜¯è¿™ä¸ªæ¡ˆä¾‹å‘¢ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve()\\n  .then(function success (res) {\\n    throw new Error('error!!!')\\n  }, function fail1 (err) {\\n    console.log('fail1', err)\\n  }).catch(function fail2 (err) {\\n    console.log('fail2', err)\\n  })\\n\")])])]),n(\"p\",[e._v(\"ç”±äº\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"è°ƒç”¨çš„æ˜¯\"),n(\"code\",[e._v(\"resolve()\")]),e._v(\"ï¼Œå› æ­¤\"),n(\"code\",[e._v(\".then()\")]),e._v(\"æ‰§è¡Œçš„åº”è¯¥æ˜¯\"),n(\"code\",[e._v(\"success()\")]),e._v(\"å‡½æ•°ï¼Œå¯æ˜¯\"),n(\"code\",[e._v(\"success()\")]),e._v(\"å‡½æ•°æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå®ƒä¼šè¢«åé¢çš„\"),n(\"code\",[e._v(\"catch()\")]),e._v(\"ç»™æ•è·åˆ°ï¼Œè€Œä¸æ˜¯è¢«\"),n(\"code\",[e._v(\"fail1\")]),e._v(\"å‡½æ•°æ•è·ã€‚\\nå› æ­¤æ‰§è¡Œç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"fail2 Error: error!!!\\n\\t\\t\\tat success\\n\")])])]),n(\"h4\",{attrs:{id:\"_3-10-é¢˜ç›®å\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-10-é¢˜ç›®å\"}},[e._v(\"#\")]),e._v(\" 3.10 é¢˜ç›®å\")]),e._v(\" \"),n(\"p\",[e._v(\"æ¥ç€æ¥çœ‹çœ‹\"),n(\"code\",[e._v(\".finally()\")]),e._v(\"ï¼Œè¿™ä¸ªåŠŸèƒ½ä¸€èˆ¬ä¸å¤ªç”¨åœ¨é¢è¯•ä¸­ï¼Œä¸è¿‡å¦‚æœç¢°åˆ°äº†ä½ ä¹Ÿåº”è¯¥çŸ¥é“è¯¥å¦‚ä½•å¤„ç†ã€‚\\nå…¶å®ä½ åªè¦è®°ä½å®ƒä¸‰ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹å°±å¯ä»¥äº†ï¼š\")]),e._v(\" \"),n(\"ol\",[n(\"li\",[n(\"code\",[e._v(\".finally()\")]),e._v(\"æ–¹æ³•ä¸ç®¡\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"å¯¹è±¡æœ€åçš„çŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".finally()\")]),e._v(\"æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨\"),n(\"code\",[e._v(\".finally()\")]),e._v(\"å‡½æ•°ä¸­æ˜¯æ²¡æ³•çŸ¥é“\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æœ€ç»ˆçš„çŠ¶æ€æ˜¯\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"è¿˜æ˜¯\"),n(\"code\",[e._v(\"rejected\")]),e._v(\"çš„\")]),e._v(\" \"),n(\"li\",[e._v(\"å®ƒæœ€ç»ˆè¿”å›çš„é»˜è®¤ä¼šæ˜¯ä¸€ä¸ª\"),n(\"strong\",[e._v(\"ä¸Šä¸€æ¬¡çš„Promiseå¯¹è±¡å€¼\")]),e._v(\"ï¼Œä¸è¿‡å¦‚æœæŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸åˆ™è¿”å›å¼‚å¸¸çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"å¯¹è±¡ã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"æ¥çœ‹çœ‹è¿™ä¸ªç®€å•çš„ä¾‹å­ğŸŒ°ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve('1')\\n  .then(res => {\\n    console.log(res)\\n  })\\n  .finally(() => {\\n    console.log('finally')\\n  })\\nPromise.resolve('2')\\n  .finally(() => {\\n    console.log('finally2')\\n  \\treturn 'æˆ‘æ˜¯finally2è¿”å›çš„å€¼'\\n  })\\n  .then(res => {\\n    console.log('finally2åé¢çš„thenå‡½æ•°', res)\\n  })\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿™ä¸¤ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„\"),n(\"code\",[e._v(\".finally\")]),e._v(\"éƒ½ä¼šæ‰§è¡Œï¼Œä¸”å°±ç®—\"),n(\"code\",[e._v(\"finally2\")]),e._v(\"è¿”å›äº†æ–°çš„å€¼ï¼Œå®ƒåé¢çš„\"),n(\"code\",[e._v(\"then()\")]),e._v(\"å‡½æ•°æ¥æ”¶åˆ°çš„ç»“æœå´è¿˜æ˜¯\"),n(\"code\",[e._v(\"'2'\")]),e._v(\"ï¼Œå› æ­¤æ‰“å°ç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'1'\\n'finally2'\\n'finally'\\n'finally2åé¢çš„thenå‡½æ•°' '2'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è‡³äºä¸ºä»€ä¹ˆ\"),n(\"code\",[e._v(\"finally2\")]),e._v(\"çš„æ‰“å°è¦åœ¨\"),n(\"code\",[e._v(\"finally\")]),e._v(\"å‰é¢ï¼Œè¯·çœ‹ä¸‹ä¸€ä¸ªä¾‹å­ä¸­çš„è§£æã€‚\\nä¸è¿‡åœ¨æ­¤ä¹‹å‰è®©æˆ‘ä»¬å†æ¥ç¡®è®¤ä¸€ä¸‹ï¼Œ\"),n(\"code\",[e._v(\"finally\")]),e._v(\"ä¸­è¦æ˜¯æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸æ˜¯æ€æ ·çš„ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve('1')\\n  .finally(() => {\\n    console.log('finally1')\\n    throw new Error('æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸')\\n  })\\n  .then(res => {\\n    console.log('finallyåé¢çš„thenå‡½æ•°', res)\\n  })\\n  .catch(err => {\\n    console.log('æ•è·é”™è¯¯', err)\\n  })\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"æ‰§è¡Œç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'finally1'\\n'æ•è·é”™è¯¯' Error: æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ä½†æ˜¯å¦‚æœæ”¹ä¸º\"),n(\"code\",[e._v(\"return new Error('æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸')\")]),e._v(\"ï¼Œæ‰“å°å‡ºæ¥çš„å°±æ˜¯\"),n(\"code\",[e._v(\"'finallyåé¢çš„thenå‡½æ•° 1'\")]),e._v(\"\\nOKï¼ŒğŸ‘Œï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒéš¾çš„ä¾‹å­ğŸŒ°ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function promise1 () {\\n  let p = new Promise((resolve) => {\\n    console.log('promise1');\\n    resolve('1')\\n  })\\n  return p;\\n}\\nfunction promise2 () {\\n  return new Promise((resolve, reject) => {\\n    reject('error')\\n  })\\n}\\npromise1()\\n  .then(res => console.log(res))\\n  .catch(err => console.log(err))\\n  .finally(() => console.log('finally1'))\\npromise2()\\n  .then(res => console.log(res))\\n  .catch(err => console.log(err))\\n  .finally(() => console.log('finally2'))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"æ‰§è¡Œè¿‡ç¨‹ï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"é¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"ï¼Œå…ˆä¸ç®¡æ¥ç€å¾€ä¸‹çœ‹ã€‚\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"promise1\")]),e._v(\"å‡½æ•°å…ˆè¢«è°ƒç”¨äº†ï¼Œç„¶åæ‰§è¡Œé‡Œé¢\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"çš„åŒæ­¥ä»£ç æ‰“å°å‡º\"),n(\"code\",[e._v(\"promise1\")])]),e._v(\" \"),n(\"li\",[e._v(\"ä¹‹åé‡åˆ°äº†\"),n(\"code\",[e._v(\"resolve(1)\")]),e._v(\"ï¼Œå°†\"),n(\"code\",[e._v(\"p\")]),e._v(\"çš„çŠ¶æ€æ”¹ä¸ºäº†\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"å¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥ã€‚\")]),e._v(\" \"),n(\"li\",[e._v(\"æ­¤æ—¶\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"å†…çš„å‡½æ•°å†…å®¹å·²ç»æ‰§è¡Œå®Œäº†ï¼Œè·³å‡ºè¯¥å‡½æ•°\")]),e._v(\" \"),n(\"li\",[e._v(\"ç¢°åˆ°äº†\"),n(\"code\",[e._v(\"promise1().then()\")]),e._v(\"ï¼Œç”±äº\"),n(\"code\",[e._v(\"promise1\")]),e._v(\"çš„çŠ¶æ€å·²ç»å‘ç”Ÿäº†æ”¹å˜ä¸”ä¸º\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"å› æ­¤å°†\"),n(\"code\",[e._v(\"promise1().then()\")]),e._v(\"è¿™æ¡å¾®ä»»åŠ¡åŠ å…¥æœ¬è½®çš„å¾®ä»»åŠ¡åˆ—è¡¨(\"),n(\"strong\",[e._v(\"è¿™æ˜¯ç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡\")]),e._v(\")\")]),e._v(\" \"),n(\"li\",[e._v(\"è¿™æ—¶å€™è¦æ³¨æ„äº†ï¼Œä»£ç å¹¶ä¸ä¼šæ¥ç€å¾€é“¾å¼è°ƒç”¨çš„ä¸‹é¢èµ°ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå…ˆå°†\"),n(\"code\",[e._v(\".finally\")]),e._v(\"åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œé‚£æ˜¯å› ä¸º\"),n(\"code\",[e._v(\".then\")]),e._v(\"æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå®ƒé“¾å¼åé¢çš„å†…å®¹å¿…é¡»å¾—ç­‰å½“å‰è¿™ä¸ªå¾®ä»»åŠ¡æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬å…ˆä¸ç®¡\"),n(\"code\",[e._v(\".finally()\")])]),e._v(\" \"),n(\"li\",[e._v(\"å†å¾€ä¸‹èµ°ç¢°åˆ°äº†\"),n(\"code\",[e._v(\"promise2()\")]),e._v(\"å‡½æ•°ï¼Œå…¶ä¸­è¿”å›çš„\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ä¸­å¹¶æ²¡æœ‰åŒæ­¥ä»£ç éœ€è¦æ‰§è¡Œï¼Œæ‰€ä»¥æ‰§è¡Œ\"),n(\"code\",[e._v(\"reject('error')\")]),e._v(\"çš„æ—¶å€™å°†\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"å‡½æ•°ä¸­çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„çŠ¶æ€å˜ä¸ºäº†\"),n(\"code\",[e._v(\"rejected\")])]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"å‡½æ•°ï¼Œé‡åˆ°äº†\"),n(\"code\",[e._v(\"promise2().catch()\")]),e._v(\"ï¼Œå°†å…¶åŠ å…¥å½“å‰çš„å¾®ä»»åŠ¡é˜Ÿåˆ—(\"),n(\"strong\",[e._v(\"è¿™æ˜¯ç¬¬äºŒä¸ªå¾®ä»»åŠ¡\")]),e._v(\")ï¼Œä¸”é“¾å¼è°ƒç”¨åé¢çš„å†…å®¹å¾—ç­‰è¯¥ä»»åŠ¡æ‰§è¡Œå®Œåæ‰æ‰§è¡Œï¼Œå’Œ\"),n(\"code\",[e._v(\".then()\")]),e._v(\"ä¸€æ ·ã€‚\")]),e._v(\" \"),n(\"li\",[e._v(\"OKï¼Œ æœ¬è½®çš„å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œæ¥çœ‹çœ‹å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå­˜åœ¨\"),n(\"code\",[e._v(\"promise1().then()\")]),e._v(\"ï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å°å‡º\"),n(\"code\",[e._v(\"1\")]),e._v(\"ï¼Œç„¶åé‡åˆ°äº†\"),n(\"code\",[e._v(\".finally()\")]),e._v(\"è¿™ä¸ªå¾®ä»»åŠ¡å°†å®ƒåŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨(\"),n(\"strong\",[e._v(\"è¿™æ˜¯ç¬¬ä¸‰ä¸ªå¾®ä»»åŠ¡\")]),e._v(\")ç­‰å¾…æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"å†æ‰§è¡Œ\"),n(\"code\",[e._v(\"promise2().catch()\")]),e._v(\"æ‰“å°å‡º\"),n(\"code\",[e._v(\"error\")]),e._v(\"ï¼Œæ‰§è¡Œå®Œåå°†\"),n(\"code\",[e._v(\"finally2\")]),e._v(\"åŠ å…¥å¾®ä»»åŠ¡åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨(\"),n(\"strong\",[e._v(\"è¿™æ˜¯ç¬¬å››ä¸ªå¾®ä»»åŠ¡\")]),e._v(\")\")]),e._v(\" \"),n(\"li\",[e._v(\"OKï¼Œ æœ¬è½®åˆå…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œä½†æ˜¯å¾®ä»»åŠ¡åˆ—è¡¨è¿˜æœ‰ä¸¤ä¸ªæ–°çš„å¾®ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå› æ­¤ä¾æ¬¡æ‰§è¡Œ\"),n(\"code\",[e._v(\"finally1\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"finally2\")]),e._v(\"ã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'promise1'\\n'1'\\n'error'\\n'finally1'\\n'finally2'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"åœ¨è¿™é“é¢˜ä¸­å…¶å®èƒ½æ‹“å±•çš„ä¸œè¥¿æŒºå¤šçš„ï¼Œä¹‹å‰æ²¡æœ‰æåˆ°ï¼Œé‚£å°±æ˜¯ä½ å¯ä»¥ç†è§£ä¸º\"),n(\"strong\",[e._v(\"é“¾å¼è°ƒç”¨\")]),e._v(\"åé¢çš„å†…å®¹éœ€è¦ç­‰å‰ä¸€ä¸ªè°ƒç”¨æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œã€‚\\nå°±åƒæ˜¯è¿™é‡Œçš„\"),n(\"code\",[e._v(\"finally()\")]),e._v(\"ä¼šç­‰\"),n(\"code\",[e._v(\"promise1().then()\")]),e._v(\"æ‰§è¡Œå®Œæ‰ä¼šå°†\"),n(\"code\",[e._v(\"finally()\")]),e._v(\"åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…¶å®å¦‚æœè¿™é“é¢˜ä¸­ä½ æŠŠ\"),n(\"code\",[e._v(\"finally()\")]),e._v(\"æ¢æˆæ˜¯\"),n(\"code\",[e._v(\"then()\")]),e._v(\"ä¹Ÿæ˜¯è¿™æ ·çš„:\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function promise1 () {\\n  let p = new Promise((resolve) => {\\n    console.log('promise1');\\n    resolve('1')\\n  })\\n  return p;\\n}\\nfunction promise2 () {\\n  return new Promise((resolve, reject) => {\\n    reject('error')\\n  })\\n}\\npromise1()\\n  .then(res => console.log(res))\\n  .catch(err => console.log(err))\\n  .then(() => console.log('finally1'))\\npromise2()\\n  .then(res => console.log(res))\\n  .catch(err => console.log(err))\\n  .then(() => console.log('finally2'))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h3\",{attrs:{id:\"_4-promiseä¸­çš„allå’Œrace\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-promiseä¸­çš„allå’Œrace\"}},[e._v(\"#\")]),e._v(\" 4. Promiseä¸­çš„allå’Œrace\")]),e._v(\" \"),n(\"p\",[e._v(\"åœ¨åšä¸‹é¢ğŸ‘‡çš„é¢˜ç›®ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹\"),n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"Promise.race()\")]),e._v(\"çš„ç”¨æ³•ã€‚\\né€šä¿—æ¥è¯´ï¼Œ\"),n(\"code\",[e._v(\".all()\")]),e._v(\"çš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚\\n\"),n(\"code\",[e._v(\".race()\")]),e._v(\"çš„ä½œç”¨ä¹Ÿæ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œåªä¿ç•™å–ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨æ‰§è¡Œï¼Œä¸è¿‡æ‰§è¡Œç»“æœä¼šè¢«æŠ›å¼ƒã€‚\\næ¥çœ‹çœ‹é¢˜ç›®ä¸€ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_4-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 4.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"p\",[e._v(\"æˆ‘ä»¬çŸ¥é“å¦‚æœç›´æ¥åœ¨è„šæœ¬æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ï¼Œå®ƒæ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¼šç«‹å³æ‰§è¡Œçš„ï¼Œå°±åƒè¿™æ ·ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const p1 = new Promise(r => console.log('ç«‹å³æ‰“å°'))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"æ§åˆ¶å°ä¸­ä¼šç«‹å³æ‰“å°å‡º â€œç«‹å³æ‰“å°â€ã€‚\\nå› æ­¤ä¸ºäº†æ§åˆ¶å®ƒä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£¹ç€å®ƒï¼Œåœ¨éœ€è¦å®ƒæ‰§è¡Œçš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function runP1 () {\\n    const p1 = new Promise(r => console.log('ç«‹å³æ‰“å°'))\\n    return p1\\n}\\nrunP1() // è°ƒç”¨æ­¤å‡½æ•°æ—¶æ‰æ‰§è¡Œ\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"OK ğŸ‘Œï¼Œ è®©æˆ‘ä»¬å›å½’æ­£é¢˜ã€‚\\nç°åœ¨æ¥æ„å»ºè¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function runAsync (x) {\\n    const p = new Promise(r => setTimeout(() => r(x, console.log(x)), 1000))\\n    return p\\n}\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¯¥å‡½æ•°ä¼ å…¥ä¸€ä¸ªå€¼\"),n(\"code\",[e._v(\"x\")]),e._v(\"ï¼Œç„¶åé—´éš”ä¸€ç§’åæ‰“å°å‡ºè¿™ä¸ª\"),n(\"code\",[e._v(\"x\")]),e._v(\"ã€‚\\nå¦‚æœæˆ‘ç”¨\"),n(\"code\",[e._v(\".all()\")]),e._v(\"æ¥æ‰§è¡Œå®ƒä¼šæ€æ ·å‘¢ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function runAsync (x) {\\n    const p = new Promise(r => setTimeout(() => r(x, console.log(x)), 1000))\\n    return p\\n}\\nPromise.all([runAsync(1), runAsync(2), runAsync(3)])\\n  .then(res => console.log(res))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å…ˆæ¥æƒ³æƒ³æ­¤æ®µä»£ç åœ¨æµè§ˆå™¨ä¸­ä¼šå¦‚ä½•æ‰§è¡Œï¼Ÿ\\næ²¡é”™ï¼Œå½“ä½ æ‰“å¼€é¡µé¢çš„æ—¶å€™ï¼Œåœ¨é—´éš”ä¸€ç§’åï¼Œæ§åˆ¶å°ä¼šåŒæ—¶æ‰“å°å‡º\"),n(\"code\",[e._v(\"1, 2, 3\")]),e._v(\"ï¼Œè¿˜æœ‰ä¸€ä¸ªæ•°ç»„\"),n(\"code\",[e._v(\"[1, 2, 3]\")]),e._v(\"ã€‚\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n2\\n3\\n[1, 2, 3]\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"æ‰€ä»¥ä½ ç°åœ¨èƒ½ç†è§£è¿™å¥è¯çš„æ„æ€äº†å—ï¼š\"),n(\"strong\",[e._v(\"æœ‰äº†allï¼Œä½ å°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªå›è°ƒä¸­å¤„ç†æ‰€æœ‰çš„è¿”å›æ•°æ®ã€‚\")]),e._v(\" \"),n(\"code\",[e._v(\".all()\")]),e._v(\"åé¢çš„\"),n(\"code\",[e._v(\".then()\")]),e._v(\"é‡Œçš„å›è°ƒå‡½æ•°æ¥æ”¶çš„å°±æ˜¯æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚\\nè€Œä¸”è¿™ä¸ªç»“æœä¸­æ•°ç»„çš„é¡ºåºå’Œ\"),n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´ï¼ï¼ï¼\")]),e._v(\" \"),n(\"blockquote\",[n(\"p\",[e._v(\"æœ‰ä¸€ä¸ªåœºæ™¯æ˜¯å¾ˆé€‚åˆç”¨è¿™ä¸ªçš„ï¼Œä¸€äº›æ¸¸æˆç±»çš„ç´ ææ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œæ‰“å¼€ç½‘é¡µæ—¶ï¼Œé¢„å…ˆåŠ è½½éœ€è¦ç”¨åˆ°çš„å„ç§èµ„æºå¦‚å›¾ç‰‡ã€flashä»¥åŠå„ç§é™æ€æ–‡ä»¶ã€‚æ‰€æœ‰çš„éƒ½åŠ è½½å®Œåï¼Œæˆ‘ä»¬å†è¿›è¡Œé¡µé¢çš„åˆå§‹åŒ–ã€‚\")])]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_4-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 4.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"p\",[e._v(\"æˆ‘æ–°å¢äº†ä¸€ä¸ª\"),n(\"code\",[e._v(\"runReject\")]),e._v(\"å‡½æ•°ï¼Œå®ƒç”¨æ¥åœ¨\"),n(\"code\",[e._v(\"1000 * x\")]),e._v(\"ç§’å\"),n(\"code\",[e._v(\"reject\")]),e._v(\"ä¸€ä¸ªé”™è¯¯ã€‚\\nåŒæ—¶\"),n(\"code\",[e._v(\".catch()\")]),e._v(\"å‡½æ•°èƒ½å¤Ÿæ•è·åˆ°\"),n(\"code\",[e._v(\".all()\")]),e._v(\"é‡Œæœ€å…ˆçš„é‚£ä¸ªå¼‚å¸¸ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚\\næƒ³æƒ³è¿™é“é¢˜ä¼šæ€æ ·æ‰§è¡Œå‘¢ ğŸ¤”ï¸ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function runAsync (x) {\\n  const p = new Promise(r => setTimeout(() => r(x, console.log(x)), 1000))\\n  return p\\n}\\nfunction runReject (x) {\\n  const p = new Promise((res, rej) => setTimeout(() => rej(`Error: ${x}`, console.log(x)), 1000 * x))\\n  return p\\n}\\nPromise.all([runAsync(1), runReject(4), runAsync(3), runReject(2)])\\n  .then(res => console.log(res))\\n  .catch(err => console.log(err))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ä¸å–å…³å­äº† ğŸ˜ï¼Œè®©æˆ‘æ¥å…¬å¸ƒç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"// 1såè¾“å‡º\\n1\\n3\\n// 2såè¾“å‡º\\n2\\nError: 2\\n// 4såè¾“å‡º\\n4\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"æ²¡é”™ï¼Œå°±åƒæˆ‘ä¹‹å‰è¯´çš„ï¼Œ\"),n(\"code\",[e._v(\".catch\")]),e._v(\"æ˜¯ä¼šæ•è·æœ€å…ˆçš„é‚£ä¸ªå¼‚å¸¸ï¼Œåœ¨è¿™é“é¢˜ç›®ä¸­æœ€å…ˆçš„å¼‚å¸¸å°±æ˜¯\"),n(\"code\",[e._v(\"runReject(2)\")]),e._v(\"çš„ç»“æœã€‚\\nå¦å¤–ï¼Œå¦‚æœä¸€ç»„å¼‚æ­¥æ“ä½œä¸­æœ‰ä¸€ä¸ªå¼‚å¸¸éƒ½ä¸ä¼šè¿›å…¥\"),n(\"code\",[e._v(\".then()\")]),e._v(\"çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å‚æ•°ä¸­ã€‚\\næ³¨æ„ï¼Œä¸ºä»€ä¹ˆä¸è¯´æ˜¯ä¸è¿›å…¥\"),n(\"code\",[e._v(\".then()\")]),e._v(\"ä¸­å‘¢ ğŸ¤”ï¸ï¼Ÿ\\nå“ˆå“ˆï¼Œå¤§å®¶åˆ«å¿˜äº†\"),n(\"code\",[e._v(\".then()\")]),e._v(\"æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å¯ä»¥æ•è·é”™è¯¯çš„ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.all([runAsync(1), runReject(4), runAsync(3), runReject(2)])\\n  .then(res => console.log(res), \\n  err => console.log(err))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_4-3-é¢˜ç›®ä¸‰\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-3-é¢˜ç›®ä¸‰\"}},[e._v(\"#\")]),e._v(\" 4.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"p\",[e._v(\"æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä¸ªæœ‰è¶£çš„æ–¹æ³•\"),n(\"code\",[e._v(\".race\")]),e._v(\"ã€‚\\nè®©æˆ‘çœ‹çœ‹ä½ ä»¬çš„è‹±è¯­æ°´å¹³å¦‚ä½•ï¼Ÿ\\nå¿«ï¼ä¸€ç§’é’Ÿå‘Šè¯‰æˆ‘\"),n(\"code\",[e._v(\"race\")]),e._v(\"æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ\")]),e._v(\" \"),n(\"p\",[e._v(\"å¥½å§...ä½ ä»¬æœç„¶å¾ˆå¼º...\\n\"),n(\"code\",[e._v(\"race\")]),e._v(\"ï¼Œæ¯”èµ›ï¼Œèµ›è·‘çš„æ„æ€ã€‚\\næ‰€ä»¥ä½¿ç”¨\"),n(\"code\",[e._v(\".race()\")]),e._v(\"æ–¹æ³•ï¼Œå®ƒåªä¼šè·å–æœ€å…ˆæ‰§è¡Œå®Œæˆçš„é‚£ä¸ªç»“æœï¼Œå…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡è™½ç„¶ä¹Ÿä¼šç»§ç»­è¿›è¡Œä¸‹å»ï¼Œä¸è¿‡\"),n(\"code\",[e._v(\"race\")]),e._v(\"å·²ç»ä¸ç®¡é‚£äº›ä»»åŠ¡çš„ç»“æœäº†ã€‚\\næ¥ï¼Œæ”¹é€ ä¸€ä¸‹\"),n(\"code\",[e._v(\"4.1\")]),e._v(\"è¿™é“é¢˜ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function runAsync (x) {\\n  const p = new Promise(r => setTimeout(() => r(x, console.log(x)), 1000))\\n  return p\\n}\\nPromise.race([runAsync(1), runAsync(2), runAsync(3)])\\n  .then(res => console.log('result: ', res))\\n  .catch(err => console.log(err))\\n\")])])]),n(\"p\",[e._v(\"æ‰§è¡Œç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n'result: ' 1\\n2\\n3\\n\")])])]),n(\"blockquote\",[n(\"p\",[e._v(\"è¿™ä¸ªraceæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä½¿ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨raceç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œ\")])]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_4-4-é¢˜ç›®å››\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-4-é¢˜ç›®å››\"}},[e._v(\"#\")]),e._v(\" 4.4 é¢˜ç›®å››\")]),e._v(\" \"),n(\"p\",[e._v(\"æ”¹é€ ä¸€ä¸‹é¢˜ç›®\"),n(\"code\",[e._v(\"4.2\")]),e._v(\"ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('function runAsync(x) {\\n  const p = new Promise(r =>\\n    setTimeout(() => r(x, console.log(x)), 1000)\\n  );\\n  return p;\\n}\\nfunction runReject(x) {\\n  const p = new Promise((res, rej) =>\\n    setTimeout(() => rej(`Error: ${x}`, console.log(x)), 1000 * x)\\n  );\\n  return p;\\n}\\nPromise.race([runReject(0), runAsync(1), runAsync(2), runAsync(3)])\\n  .then(res => console.log(\"result: \", res))\\n  .catch(err => console.log(err));\\n')])])]),n(\"p\",[e._v(\"é‡åˆ°é”™è¯¯çš„è¯ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåœ¨è¿™é“é¢˜ä¸­ï¼Œ\"),n(\"code\",[e._v(\"runReject(0)\")]),e._v(\"æœ€å…ˆæ‰§è¡Œå®Œï¼Œæ‰€ä»¥è¿›å…¥äº†\"),n(\"code\",[e._v(\"catch()\")]),e._v(\"ä¸­ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"0\\n'Error: 0'\\n1\\n2\\n3\\n\")])])]),n(\"h4\",{attrs:{id:\"æ€»ç»“\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#æ€»ç»“\"}},[e._v(\"#\")]),e._v(\" æ€»ç»“\")]),e._v(\" \"),n(\"p\",[e._v(\"å¥½çš„ï¼Œè®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹\"),n(\"code\",[e._v(\".then()\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\".race()\")]),e._v(\"å§ï¼ŒğŸ˜„\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"çš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒã€‚\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".race()\")]),e._v(\"çš„ä½œç”¨ä¹Ÿæ˜¯æ¥æ”¶ä¸€ç»„å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åå¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œåªä¿ç•™å–ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨æ‰§è¡Œï¼Œä¸è¿‡æ‰§è¡Œç»“æœä¼šè¢«æŠ›å¼ƒã€‚\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"Promise.all().then()\")]),e._v(\"ç»“æœä¸­æ•°ç»„çš„é¡ºåºå’Œ\"),n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´ã€‚\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"allå’Œrace\")]),e._v(\"ä¼ å…¥çš„æ•°ç»„ä¸­å¦‚æœæœ‰ä¼šæŠ›å‡ºå¼‚å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆåªæœ‰æœ€å…ˆæŠ›å‡ºçš„é”™è¯¯ä¼šè¢«æ•è·ï¼Œå¹¶ä¸”æ˜¯è¢«\"),n(\"code\",[e._v(\"then\")]),e._v(\"çš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€…åé¢çš„\"),n(\"code\",[e._v(\"catch\")]),e._v(\"æ•è·ï¼›ä½†å¹¶ä¸ä¼šå½±å“æ•°ç»„ä¸­å…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚\")])]),e._v(\" \"),n(\"h3\",{attrs:{id:\"_5-async-awaitçš„å‡ é“é¢˜\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-async-awaitçš„å‡ é“é¢˜\"}},[e._v(\"#\")]),e._v(\" 5. async/awaitçš„å‡ é“é¢˜\")]),e._v(\" \"),n(\"p\",[e._v(\"æ—¢ç„¶è°ˆåˆ°äº†\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ï¼Œé‚£å°±è‚¯å®šå¾—å†è¯´è¯´\"),n(\"code\",[e._v(\"async/await\")]),e._v(\"ï¼Œåœ¨å¾ˆå¤šæ—¶å€™\"),n(\"code\",[e._v(\"async\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„è§£æ³•å·®ä¸å¤šï¼Œåˆæœ‰äº›ä¸ä¸€æ ·ã€‚ä¸ä¿¡ä½ æ¥çœ‹çœ‹é¢˜ç›®ä¸€ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_5-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 5.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function async1() {\\n  console.log(\"async1 start\");\\n  await async2();\\n  console.log(\"async1 end\");\\n}\\nasync function async2() {\\n  console.log(\"async2\");\\n}\\nasync1();\\nconsole.log(\\'start\\')\\n')])])]),n(\"p\",[e._v(\"è¿™é“åŸºç¡€é¢˜è¾“å‡ºçš„æ˜¯å•¥ï¼Ÿ\\nç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'async1 start'\\n'async2'\\n'start'\\n'async1 end'\\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"é¦–å…ˆä¸€è¿›æ¥æ˜¯åˆ›å»ºäº†ä¸¤ä¸ªå‡½æ•°çš„ï¼Œæˆ‘ä»¬å…ˆä¸çœ‹å‡½æ•°çš„åˆ›å»ºä½ç½®ï¼Œè€Œæ˜¯çœ‹å®ƒçš„è°ƒç”¨ä½ç½®\")]),e._v(\" \"),n(\"li\",[e._v(\"å‘ç°\"),n(\"code\",[e._v(\"async1\")]),e._v(\"å‡½æ•°è¢«è°ƒç”¨äº†ï¼Œç„¶åå»çœ‹çœ‹è°ƒç”¨çš„å†…å®¹\")]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡Œå‡½æ•°ä¸­çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"async1 start\")]),e._v(\"ï¼Œä¹‹åç¢°åˆ°äº†\"),n(\"code\",[e._v(\"await\")]),e._v(\"ï¼Œå®ƒä¼šé˜»å¡\"),n(\"code\",[e._v(\"async1\")]),e._v(\"åé¢ä»£ç çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šå…ˆå»æ‰§è¡Œ\"),n(\"code\",[e._v(\"async2\")]),e._v(\"ä¸­çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"async2\")]),e._v(\"ï¼Œç„¶åè·³å‡º\"),n(\"code\",[e._v(\"async1\")])]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"async1\")]),e._v(\"å‡½æ•°åï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"start\")])]),e._v(\" \"),n(\"li\",[e._v(\"åœ¨ä¸€è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œä¹‹åï¼Œå†æ¥æ‰§è¡Œåˆšåˆš\"),n(\"code\",[e._v(\"await\")]),e._v(\"åé¢çš„å†…å®¹\"),n(\"code\",[e._v(\"async1 end\")]),e._v(\"ã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥ç†è§£ä¸ºã€Œç´§è·Ÿç€awaitåé¢çš„è¯­å¥ç›¸å½“äºæ”¾åˆ°äº†new Promiseä¸­ï¼Œä¸‹ä¸€è¡ŒåŠä¹‹åçš„è¯­å¥ç›¸å½“äºæ”¾åœ¨Promise.thenä¸­ã€ã€‚\\nè®©æˆ‘ä»¬æ¥çœ‹çœ‹å°†\"),n(\"code\",[e._v(\"await\")]),e._v(\"è½¬æ¢ä¸º\"),n(\"code\",[e._v(\"Promise.then\")]),e._v(\"çš„ä¼ªä»£ç ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function async1() {\\n  console.log(\"async1 start\");\\n  // åŸæ¥ä»£ç \\n  // await async2();\\n  // console.log(\"async1 end\");\\n  \\n  // è½¬æ¢åä»£ç \\n  new Promise(resolve => {\\n    console.log(\"async2\")\\n    resolve()\\n  }).then(res => console.log(\"async1 end\"))\\n}\\nasync function async2() {\\n  console.log(\"async2\");\\n}\\nasync1();\\nconsole.log(\"start\")\\n')])])]),n(\"p\",[e._v(\"è½¬æ¢åçš„ä¼ªä»£ç å’Œå‰é¢çš„æ‰§è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚(æ„Ÿè°¢è¯„è®ºåŒº\"),n(\"a\",{attrs:{href:\"https://juejin.im/user/3421335914314061\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Wing93\"),n(\"OutboundLink\")],1),e._v(\"å’Œ\"),n(\"a\",{attrs:{href:\"https://juejin.im/user/1926000100012317\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Jexxie\"),n(\"OutboundLink\")],1),e._v(\"å°ä¼™ä¼´çš„æŒ‡å‡º)\\nå¦å¤–å…³äº\"),n(\"code\",[e._v(\"await\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„åŒºåˆ«ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ\"),n(\"code\",[e._v(\"await async2()\")]),e._v(\"æ¢æˆä¸€ä¸ª\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"å‘¢ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function async1() {\\n  console.log(\"async1 start\");\\n  new Promise(resolve => {\\n    console.log(\\'promise\\')\\n  })\\n  console.log(\"async1 end\");\\n}\\nasync1();\\nconsole.log(\"start\")\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"æ­¤æ—¶çš„æ‰§è¡Œç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'async start'\\n'promise'\\n'async1 end'\\n'start'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å¯ä»¥çœ‹åˆ°\"),n(\"code\",[e._v(\"new Promise()\")]),e._v(\"å¹¶ä¸ä¼šé˜»å¡åé¢çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"async1 end\")]),e._v(\"çš„æ‰§è¡Œã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_5-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 5.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"p\",[e._v(\"ç°åœ¨å°†\"),n(\"code\",[e._v(\"async\")]),e._v(\"ç»“åˆå®šæ—¶å™¨çœ‹çœ‹ã€‚\\nç»™é¢˜ç›®ä¸€ä¸­çš„ \"),n(\"code\",[e._v(\"async2\")]),e._v(\"å‡½æ•°ä¸­åŠ ä¸Šä¸€ä¸ªå®šæ—¶å™¨ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function async1() {\\n  console.log(\"async1 start\");\\n  await async2();\\n  console.log(\"async1 end\");\\n}\\nasync function async2() {\\n  setTimeout(() => {\\n    console.log(\\'timer\\')\\n  }, 0)\\n  console.log(\"async2\");\\n}\\nasync1();\\nconsole.log(\"start\")\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"æ²¡é”™ï¼Œå®šæ—¶å™¨å§‹ç»ˆè¿˜æ˜¯æœ€åæ‰§è¡Œçš„ï¼Œå®ƒè¢«æ”¾åˆ°ä¸‹ä¸€æ¡å®ä»»åŠ¡çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­ã€‚\\nç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'async1 start'\\n'async2'\\n'start'\\n'async1 end'\\n'timer'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_5-3-é¢˜ç›®ä¸‰\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-3-é¢˜ç›®ä¸‰\"}},[e._v(\"#\")]),e._v(\" 5.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"p\",[e._v(\"æ¥å§ï¼Œå°ä¼™ä¼´ä»¬ï¼Œè®©æˆ‘ä»¬å¤šåŠ å‡ ä¸ªå®šæ—¶å™¨çœ‹çœ‹ã€‚ğŸ˜\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function async1() {\\n  console.log(\"async1 start\");\\n  await async2();\\n  console.log(\"async1 end\");\\n  setTimeout(() => {\\n    console.log(\\'timer1\\')\\n  }, 0)\\n}\\nasync function async2() {\\n  setTimeout(() => {\\n    console.log(\\'timer2\\')\\n  }, 0)\\n  console.log(\"async2\");\\n}\\nasync1();\\nsetTimeout(() => {\\n  console.log(\\'timer3\\')\\n}, 0)\\nconsole.log(\"start\")\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"æ€è€ƒä¸€ä¸‹ğŸ¤”ï¼Œæ‰§è¡Œç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ\\nå…¶å®å¦‚æœä½ èƒ½åšåˆ°è¿™é‡Œäº†ï¼Œè¯´æ˜ä½ å‰é¢çš„é‚£äº›çŸ¥è¯†ç‚¹ä¹Ÿéƒ½æŒæ¡äº†ï¼Œæˆ‘å°±ä¸éœ€è¦å¤ªè¿‡è¯¦ç»†çš„æ­¥éª¤åˆ†æäº†ã€‚\\nç›´æ¥å…¬å¸ƒç­”æ¡ˆå§ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'async1 start'\\n'async2'\\n'start'\\n'async1 end'\\n'timer2'\\n'timer3'\\n'timer1'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å®šæ—¶å™¨è°å…ˆæ‰§è¡Œï¼Œä½ åªéœ€è¦å…³æ³¨è°å…ˆè¢«è°ƒç”¨çš„ä»¥åŠå»¶è¿Ÿæ—¶é—´æ˜¯å¤šå°‘ï¼Œè¿™é“é¢˜ä¸­å»¶è¿Ÿæ—¶é—´éƒ½æ˜¯\"),n(\"code\",[e._v(\"0\")]),e._v(\"ï¼Œæ‰€ä»¥åªè¦å…³æ³¨è°å…ˆè¢«è°ƒç”¨çš„ã€‚ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_5-4-é¢˜ç›®å››\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-4-é¢˜ç›®å››\"}},[e._v(\"#\")]),e._v(\" 5.4 é¢˜ç›®å››\")]),e._v(\" \"),n(\"p\",[e._v(\"æ­£å¸¸æƒ…å†µä¸‹ï¼Œ\"),n(\"code\",[e._v(\"async\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"await\")]),e._v(\"å‘½ä»¤æ˜¯ä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚\\nä½†å¦‚æœä¸æ˜¯\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"å¯¹è±¡çš„è¯ï¼Œå°±ä¼šç›´æ¥è¿”å›å¯¹åº”çš„å€¼ï¼Œç›¸å½“äº\"),n(\"code\",[e._v(\"Promise.resolve()\")])]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function fn () {\\n  // return await 1234\\n  // ç­‰åŒäº\\n  return 123\\n}\\nfn().then(res => console.log(res))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"123\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_5-5-é¢˜ç›®äº”\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-5-é¢˜ç›®äº”\"}},[e._v(\"#\")]),e._v(\" 5.5 é¢˜ç›®äº”\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  console.log('async1 start');\\n  await new Promise(resolve => {\\n    console.log('promise1')\\n  })\\n  console.log('async1 success');\\n  return 'async1 end'\\n}\\nconsole.log('srcipt start')\\nasync1().then(res => console.log(res))\\nconsole.log('srcipt end')\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿™é“é¢˜ç›®æ¯”è¾ƒæœ‰æ„æ€ï¼Œå¤§å®¶è¦æ³¨æ„äº†ã€‚\\nåœ¨\"),n(\"code\",[e._v(\"async1\")]),e._v(\"ä¸­\"),n(\"code\",[e._v(\"await\")]),e._v(\"åé¢çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„çŠ¶æ€å§‹ç»ˆæ˜¯\"),n(\"code\",[e._v(\"pending\")]),e._v(\"çŠ¶æ€ï¼Œå› æ­¤ç›¸å½“äºä¸€ç›´åœ¨\"),n(\"code\",[e._v(\"await\")]),e._v(\"ï¼Œ\"),n(\"code\",[e._v(\"await\")]),e._v(\"ï¼Œ\"),n(\"code\",[e._v(\"await\")]),e._v(\"å´å§‹ç»ˆæ²¡æœ‰å“åº”...\")]),e._v(\" \"),n(\"p\",[e._v(\"æ‰€ä»¥åœ¨\"),n(\"code\",[e._v(\"await\")]),e._v(\"ä¹‹åçš„å†…å®¹æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œä¹ŸåŒ…æ‹¬\"),n(\"code\",[e._v(\"async1\")]),e._v(\"åé¢çš„ \"),n(\"code\",[e._v(\".then\")]),e._v(\"ã€‚\\nç­”æ¡ˆä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'script start'\\n'async1 start'\\n'promise1'\\n'script end'\\n\")])])]),n(\"h4\",{attrs:{id:\"_5-6-é¢˜ç›®å…­\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-6-é¢˜ç›®å…­\"}},[e._v(\"#\")]),e._v(\" 5.6 é¢˜ç›®å…­\")]),e._v(\" \"),n(\"p\",[e._v(\"è®©æˆ‘ä»¬ç»™\"),n(\"code\",[e._v(\"5.5\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"åŠ ä¸Š\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  console.log('async1 start');\\n  await new Promise(resolve => {\\n    console.log('promise1')\\n    resolve('promise1 resolve')\\n  }).then(res => console.log(res))\\n  console.log('async1 success');\\n  return 'async1 end'\\n}\\nconsole.log('srcipt start')\\nasync1().then(res => console.log(res))\\nconsole.log('srcipt end')\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ç°åœ¨\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æœ‰äº†è¿”å›å€¼äº†ï¼Œå› æ­¤\"),n(\"code\",[e._v(\"await\")]),e._v(\"åé¢çš„å†…å®¹å°†ä¼šè¢«æ‰§è¡Œï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'script start'\\n'async1 start'\\n'promise1'\\n'script end'\\n'promise1 resolve'\\n'async1 success'\\n'async1 end'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_5-7-é¢˜ç›®ä¸ƒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-7-é¢˜ç›®ä¸ƒ\"}},[e._v(\"#\")]),e._v(\" 5.7 é¢˜ç›®ä¸ƒ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  console.log('async1 start');\\n  await new Promise(resolve => {\\n    console.log('promise1')\\n    resolve('promise resolve')\\n  })\\n  console.log('async1 success');\\n  return 'async1 end'\\n}\\nconsole.log('srcipt start')\\nasync1().then(res => {\\n  console.log(res)\\n})\\nnew Promise(resolve => {\\n  console.log('promise2')\\n  setTimeout(() => {\\n    console.log('timer')\\n  })\\n})\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿™é“é¢˜åº”è¯¥ä¹Ÿä¸éš¾ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œåœ¨\"),n(\"code\",[e._v(\"async1\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"å®ƒçš„\"),n(\"code\",[e._v(\"resovle\")]),e._v(\"çš„å€¼å’Œ\"),n(\"code\",[e._v(\"async1().then()\")]),e._v(\"é‡Œçš„å€¼æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œå¾ˆå¤šå°ä¼™ä¼´å¯èƒ½çœ‹åˆ°\"),n(\"code\",[e._v(\"resovle('promise resolve')\")]),e._v(\"å°±ä¼šè¯¯ä»¥ä¸ºæ˜¯\"),n(\"code\",[e._v(\"async1().then()\")]),e._v(\"ä¸­çš„è¿”å›å€¼ã€‚\\nå› æ­¤è¿™é‡Œçš„æ‰§è¡Œç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'script start'\\n'async1 start'\\n'promise1'\\n'promise2'\\n'async1 success'\\n'async1 end'\\n'timer'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_5-8-é¢˜ç›®å…«\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-8-é¢˜ç›®å…«\"}},[e._v(\"#\")]),e._v(\" 5.8 é¢˜ç›®å…«\")]),e._v(\" \"),n(\"p\",[e._v(\"æˆ‘ä»¬å†æ¥çœ‹ä¸€é“å¤´æ¡æ›¾ç»çš„é¢è¯•é¢˜ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function async1() {\\n  console.log(\"async1 start\");\\n  await async2();\\n  console.log(\"async1 end\");\\n}\\nasync function async2() {\\n  console.log(\"async2\");\\n}\\nconsole.log(\"script start\");\\nsetTimeout(function() {\\n  console.log(\"setTimeout\");\\n}, 0);\\nasync1();\\nnew Promise(function(resolve) {\\n  console.log(\"promise1\");\\n  resolve();\\n}).then(function() {\\n  console.log(\"promise2\");\\n});\\nconsole.log(\\'script end\\')\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"æœ‰äº†ä¸Šé¢ğŸ‘†å‡ é¢˜åšåŸºç¡€ï¼Œç›¸ä¿¡ä½ å¾ˆå¿«ä¹Ÿèƒ½ç­”ä¸Šæ¥äº†ã€‚\")]),e._v(\" \"),n(\"p\",[e._v(\"è‡ªä¿¡çš„å†™ä¸‹ä½ ä»¬çš„ç­”æ¡ˆå§ã€‚\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'script start'\\n'async1 start'\\n'async2'\\n'promise1'\\n'script end'\\n'async1 end'\\n'promise2'\\n'setTimeout'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"(è¿™é“é¢˜æœ€å\"),n(\"code\",[e._v(\"async1 end\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"promise2\")]),e._v(\"çš„é¡ºåºå…¶å®åœ¨ç½‘ä¸Šé¥±å—äº‰è®®ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨æµè§ˆå™¨\"),n(\"code\",[e._v(\"Chrome V80\")]),e._v(\"ï¼Œ\"),n(\"code\",[e._v(\"Node v12.16.1\")]),e._v(\"çš„æ‰§è¡Œç»“æœéƒ½æ˜¯ä¸Šé¢è¿™ä¸ªç­”æ¡ˆ)\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_5-9-é¢˜ç›®ä¹\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-9-é¢˜ç›®ä¹\"}},[e._v(\"#\")]),e._v(\" 5.9 é¢˜ç›®ä¹\")]),e._v(\" \"),n(\"p\",[e._v(\"å¥½çš„ğŸ‘Œï¼Œ\"),n(\"code\",[e._v(\"async/await\")]),e._v(\"å¤§æ³•å·²ç»ƒæˆï¼Œå’±ä»¬ç»§ç»­ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('async function testSometing() {\\n  console.log(\"æ‰§è¡ŒtestSometing\");\\n  return \"testSometing\";\\n}\\nasync function testAsync() {\\n  console.log(\"æ‰§è¡ŒtestAsync\");\\n  return Promise.resolve(\"hello async\");\\n}\\nasync function test() {\\n  console.log(\"test start...\");\\n  const v1 = await testSometing();\\n  console.log(v1);\\n  const v2 = await testAsync();\\n  console.log(v2);\\n  console.log(v1, v2);\\n}\\ntest();\\nvar promise = new Promise(resolve => {\\n  console.log(\"promise start...\");\\n  resolve(\"promise\");\\n});\\npromise.then(val => console.log(val));\\nconsole.log(\"test end...\");\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"ç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'test start...'\\n'æ‰§è¡ŒtestSometing'\\n'promise start...'\\n'test end...'\\n'testSometing'\\n'æ‰§è¡ŒtestAsync'\\n'promise'\\n'hello async'\\n'testSometing' 'hello async'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h3\",{attrs:{id:\"_6-asyncå¤„ç†é”™è¯¯\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-asyncå¤„ç†é”™è¯¯\"}},[e._v(\"#\")]),e._v(\" 6. asyncå¤„ç†é”™è¯¯\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_6-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 6.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"p\",[e._v(\"åœ¨\"),n(\"code\",[e._v(\"async\")]),e._v(\"ä¸­ï¼Œå¦‚æœ \"),n(\"code\",[e._v(\"await\")]),e._v(\"åé¢çš„å†…å®¹æ˜¯ä¸€ä¸ªå¼‚å¸¸æˆ–è€…é”™è¯¯çš„è¯ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  await async2();\\n  console.log('async1');\\n  return 'async1 success'\\n}\\nasync function async2 () {\\n  return new Promise((resolve, reject) => {\\n    console.log('async2')\\n    reject('error')\\n  })\\n}\\nasync1().then(res => console.log(res))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ä¾‹å¦‚è¿™é“é¢˜ä¸­ï¼Œ\"),n(\"code\",[e._v(\"await\")]),e._v(\"åé¢è·Ÿç€çš„æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸º\"),n(\"code\",[e._v(\"rejected\")]),e._v(\"çš„\"),n(\"code\",[e._v(\"promise\")]),e._v(\"ã€‚\\n\"),n(\"strong\",[e._v(\"å¦‚æœåœ¨asyncå‡½æ•°ä¸­æŠ›å‡ºäº†é”™è¯¯ï¼Œåˆ™ç»ˆæ­¢é”™è¯¯ç»“æœï¼Œä¸ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚\")]),e._v(\"\\næ‰€ä»¥ç­”æ¡ˆä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'async2'\\nUncaught (in promise) error\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å¦‚æœæ”¹ä¸º\"),n(\"code\",[e._v(\"throw new Error\")]),e._v(\"ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  console.log('async1');\\n  throw new Error('error!!!')\\n  return 'async1 success'\\n}\\nasync1().then(res => console.log(res))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'async1'\\nUncaught (in promise) Error: error!!!\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_6-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 6.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"p\",[e._v(\"å¦‚æœæƒ³è¦ä½¿å¾—é”™è¯¯çš„åœ°æ–¹ä¸å½±å“\"),n(\"code\",[e._v(\"async\")]),e._v(\"å‡½æ•°åç»­çš„æ‰§è¡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨\"),n(\"code\",[e._v(\"try catch\")])]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  try {\\n    await Promise.reject('error!!!')\\n  } catch(e) {\\n    console.log(e)\\n  }\\n  console.log('async1');\\n  return Promise.resolve('async1 success')\\n}\\nasync1().then(res => console.log(res))\\nconsole.log('script start')\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿™é‡Œçš„ç»“æœä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'script start'\\n'error!!!'\\n'async1'\\n'async1 success'\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"æˆ–è€…ä½ å¯ä»¥ç›´æ¥åœ¨\"),n(\"code\",[e._v(\"Promise.reject\")]),e._v(\"åé¢è·Ÿç€ä¸€ä¸ª\"),n(\"code\",[e._v(\"catch()\")]),e._v(\"æ–¹æ³•ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"async function async1 () {\\n  // try {\\n  //   await Promise.reject('error!!!')\\n  // } catch(e) {\\n  //   console.log(e)\\n  // }\\n  await Promise.reject('error!!!')\\n    .catch(e => console.log(e))\\n  console.log('async1');\\n  return Promise.resolve('async1 success')\\n}\\nasync1().then(res => console.log(res))\\nconsole.log('script start')\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚\")]),e._v(\" \"),n(\"h3\",{attrs:{id:\"_7-ç»¼åˆé¢˜\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-ç»¼åˆé¢˜\"}},[e._v(\"#\")]),e._v(\" 7. ç»¼åˆé¢˜\")]),e._v(\" \"),n(\"p\",[e._v(\"ä¸Šé¢ğŸ‘†çš„é¢˜ç›®éƒ½æ˜¯è¢«æˆ‘æ‹†åˆ†ç€è¯´ä¸€äº›åŠŸèƒ½ç‚¹ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥åšä¸€äº›æ¯”è¾ƒéš¾çš„ç»¼åˆé¢˜å§ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_7-1-é¢˜ç›®ä¸€\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-1-é¢˜ç›®ä¸€\"}},[e._v(\"#\")]),e._v(\" 7.1 é¢˜ç›®ä¸€\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const first = () => (new Promise((resolve, reject) => {\\n    console.log(3);\\n    let p = new Promise((resolve, reject) => {\\n        console.log(7);\\n        setTimeout(() => {\\n            console.log(5);\\n            resolve(6);\\n            console.log(p)\\n        }, 0)\\n        resolve(1);\\n    });\\n    resolve(2);\\n    p.then((arg) => {\\n        console.log(arg);\\n    });\\n}));\\nfirst().then((arg) => {\\n    console.log(arg);\\n});\\nconsole.log(4);\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è¿‡ç¨‹åˆ†æï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"ç¬¬ä¸€æ®µä»£ç å®šä¹‰çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—çœ‹çœ‹å®ƒæ˜¯åœ¨å“ªæ‰§è¡Œçš„ï¼Œå‘ç°å®ƒåœ¨\"),n(\"code\",[e._v(\"4\")]),e._v(\"ä¹‹å‰ï¼Œæ‰€ä»¥å¯ä»¥æ¥çœ‹çœ‹\"),n(\"code\",[e._v(\"first\")]),e._v(\"å‡½æ•°é‡Œé¢çš„å†…å®¹äº†ã€‚(è¿™ä¸€æ­¥æœ‰ç‚¹ç±»ä¼¼äºé¢˜ç›®\"),n(\"code\",[e._v(\"1.5\")]),e._v(\")\")]),e._v(\" \"),n(\"li\",[e._v(\"å‡½æ•°\"),n(\"code\",[e._v(\"first\")]),e._v(\"è¿”å›çš„æ˜¯ä¸€ä¸ª\"),n(\"code\",[e._v(\"new Promise()\")]),e._v(\"ï¼Œå› æ­¤å…ˆæ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"3\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ¥ç€åˆé‡åˆ°äº†ä¸€ä¸ª\"),n(\"code\",[e._v(\"new Promise()\")]),e._v(\"ï¼Œç›´æ¥æ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"7\")])]),e._v(\" \"),n(\"li\",[e._v(\"æ‰§è¡Œå®Œ\"),n(\"code\",[e._v(\"7\")]),e._v(\"ä¹‹åï¼Œåœ¨\"),n(\"code\",[e._v(\"p\")]),e._v(\"ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå…ˆå°†å®ƒæ”¾åˆ°ä¸‹ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—é‡Œä¸ç®¡å®ƒï¼Œæ¥ç€å‘ä¸‹èµ°\")]),e._v(\" \"),n(\"li\",[e._v(\"ç¢°åˆ°äº†\"),n(\"code\",[e._v(\"resolve(1)\")]),e._v(\"ï¼Œè¿™é‡Œå°±æŠŠ\"),n(\"code\",[e._v(\"p\")]),e._v(\"çš„çŠ¶æ€æ”¹ä¸ºäº†\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"ï¼Œä¸”è¿”å›å€¼ä¸º\"),n(\"code\",[e._v(\"1\")]),e._v(\"ï¼Œä¸è¿‡è¿™é‡Œä¹Ÿå…ˆä¸æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"p\")]),e._v(\"ï¼Œç¢°åˆ°äº†\"),n(\"code\",[e._v(\"resolve(2)\")]),e._v(\"ï¼Œè¿™é‡Œçš„\"),n(\"code\",[e._v(\"resolve(2)\")]),e._v(\"ï¼Œè¡¨ç¤ºçš„æ˜¯æŠŠ\"),n(\"code\",[e._v(\"first\")]),e._v(\"å‡½æ•°è¿”å›çš„é‚£ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„çŠ¶æ€æ”¹äº†ï¼Œä¹Ÿå…ˆä¸ç®¡å®ƒã€‚\")]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶åç¢°åˆ°äº†\"),n(\"code\",[e._v(\"p.then\")]),e._v(\"ï¼Œå°†å®ƒåŠ å…¥æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œç­‰å¾…æ‰§è¡Œ\")]),e._v(\" \"),n(\"li\",[e._v(\"è·³å‡º\"),n(\"code\",[e._v(\"first\")]),e._v(\"å‡½æ•°ï¼Œé‡åˆ°äº†\"),n(\"code\",[e._v(\"first().then()\")]),e._v(\"ï¼Œå°†å®ƒåŠ å…¥æœ¬æ¬¡å¾ªç¯çš„å¾®ä»»åŠ¡åˆ—è¡¨(\"),n(\"code\",[e._v(\"p.then\")]),e._v(\"çš„åé¢æ‰§è¡Œ)\")]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"4\")])]),e._v(\" \"),n(\"li\",[e._v(\"æœ¬è½®çš„åŒæ­¥ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡åˆ—è¡¨ï¼Œå‘ç°\"),n(\"code\",[e._v(\"p.then\")]),e._v(\"å’Œ\"),n(\"code\",[e._v(\"first().then()\")]),e._v(\"ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œæ‰“å°å‡º\"),n(\"code\",[e._v(\"1å’Œ2\")])]),e._v(\" \"),n(\"li\",[e._v(\"æœ¬è½®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•äº†ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªå®šæ—¶å™¨æ²¡æœ‰è·‘å®Œï¼Œæ¥ç€æ‰§è¡Œè¿™ä¸ªå®šæ—¶å™¨é‡Œçš„å†…å®¹ï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç \"),n(\"code\",[e._v(\"5\")])]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶ååˆé‡åˆ°äº†ä¸€ä¸ª\"),n(\"code\",[e._v(\"resolve(6)\")]),e._v(\"ï¼Œå®ƒæ˜¯æ”¾åœ¨\"),n(\"code\",[e._v(\"p\")]),e._v(\"é‡Œçš„ï¼Œä½†æ˜¯\"),n(\"code\",[e._v(\"p\")]),e._v(\"çš„çŠ¶æ€åœ¨ä¹‹å‰å·²ç»å‘ç”Ÿè¿‡æ”¹å˜äº†ï¼Œå› æ­¤è¿™é‡Œå°±ä¸ä¼šå†æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯è¯´\"),n(\"code\",[e._v(\"resolve(6)\")]),e._v(\"ç›¸å½“äºæ²¡ä»»ä½•ç”¨å¤„ï¼Œå› æ­¤æ‰“å°å‡ºæ¥çš„\"),n(\"code\",[e._v(\"p\")]),e._v(\"ä¸º\"),n(\"code\",[e._v(\"Promise{<resolved>: 1}\")]),e._v(\"ã€‚(è¿™ä¸€æ­¥ç±»ä¼¼äºé¢˜ç›®\"),n(\"code\",[e._v(\"3.1\")]),e._v(\")\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç»“æœï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"3\\n7\\n4\\n1\\n2\\n5\\nPromise{<resolved>: 1}\\n\")])])]),n(\"h4\",{attrs:{id:\"_7-2-é¢˜ç›®äºŒ\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-2-é¢˜ç›®äºŒ\"}},[e._v(\"#\")]),e._v(\" 7.2 é¢˜ç›®äºŒ\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const async1 = async () => {\\n  console.log('async1');\\n  setTimeout(() => {\\n    console.log('timer1')\\n  }, 2000)\\n  await new Promise(resolve => {\\n    console.log('promise1')\\n  })\\n  console.log('async1 end')\\n  return 'async1 success'\\n} \\nconsole.log('script start');\\nasync1().then(res => console.log(res));\\nconsole.log('script end');\\nPromise.resolve(1)\\n  .then(2)\\n  .then(Promise.resolve(3))\\n  .catch(4)\\n  .then(res => console.log(res))\\nsetTimeout(() => {\\n  console.log('timer2')\\n}, 1000)\\n\")])])]),n(\"p\",[e._v(\"æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[n(\"code\",[e._v(\"async\")]),e._v(\"å‡½æ•°ä¸­\"),n(\"code\",[e._v(\"await\")]),e._v(\"çš„\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"è¦æ˜¯æ²¡æœ‰è¿”å›å€¼çš„è¯åˆ™ä¸æ‰§è¡Œåé¢çš„å†…å®¹(ç±»ä¼¼é¢˜\"),n(\"code\",[e._v(\"5.5\")]),e._v(\")\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\".then\")]),e._v(\"å‡½æ•°ä¸­çš„å‚æ•°æœŸå¾…çš„æ˜¯å‡½æ•°ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°çš„è¯ä¼šå‘ç”Ÿé€ä¼ (ç±»ä¼¼é¢˜\"),n(\"code\",[e._v(\"3.8\")]),e._v(\" )\")]),e._v(\" \"),n(\"li\",[e._v(\"æ³¨æ„å®šæ—¶å™¨çš„å»¶è¿Ÿæ—¶é—´\")])]),e._v(\" \"),n(\"p\",[e._v(\"å› æ­¤æœ¬é¢˜ç­”æ¡ˆä¸ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'script start'\\n'async1'\\n'promise1'\\n'script end'\\n1\\n'timer2'\\n'timer1'\\n\")])])]),n(\"h4\",{attrs:{id:\"_7-3-é¢˜ç›®ä¸‰\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-3-é¢˜ç›®ä¸‰\"}},[e._v(\"#\")]),e._v(\" 7.3 é¢˜ç›®ä¸‰\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const p1 = new Promise((resolve) => {\\n  setTimeout(() => {\\n    resolve('resolve3');\\n    console.log('timer1')\\n  }, 0)\\n  resolve('resovle1');\\n  resolve('resolve2');\\n}).then(res => {\\n  console.log(res)\\n  setTimeout(() => {\\n    console.log(p1)\\n  }, 1000)\\n}).finally(res => {\\n  console.log('finally', res)\\n})\\n\")])])]),n(\"p\",[e._v(\"æ³¨æ„çš„çŸ¥è¯†ç‚¹ï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„çŠ¶æ€ä¸€æ—¦æ”¹å˜å°±æ— æ³•æ”¹å˜(ç±»ä¼¼é¢˜ç›®\"),n(\"code\",[e._v(\"3.5\")]),e._v(\")\")]),e._v(\" \"),n(\"li\",[n(\"code\",[e._v(\"finally\")]),e._v(\"ä¸ç®¡\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„çŠ¶æ€æ˜¯\"),n(\"code\",[e._v(\"resolved\")]),e._v(\"è¿˜æ˜¯\"),n(\"code\",[e._v(\"rejected\")]),e._v(\"éƒ½ä¼šæ‰§è¡Œï¼Œä¸”å®ƒçš„å›è°ƒå‡½æ•°æ˜¯æ¥æ”¶ä¸åˆ°\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„ç»“æœçš„ï¼Œæ‰€ä»¥\"),n(\"code\",[e._v(\"finally()\")]),e._v(\"ä¸­çš„\"),n(\"code\",[e._v(\"res\")]),e._v(\"æ˜¯ä¸€ä¸ªè¿·æƒ‘é¡¹(ç±»ä¼¼\"),n(\"code\",[e._v(\"3.10\")]),e._v(\")ã€‚\")]),e._v(\" \"),n(\"li\",[e._v(\"æœ€åä¸€ä¸ªå®šæ—¶å™¨æ‰“å°å‡ºçš„\"),n(\"code\",[e._v(\"p1\")]),e._v(\"å…¶å®æ˜¯\"),n(\"code\",[e._v(\".finally\")]),e._v(\"çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬çŸ¥é“\"),n(\"code\",[e._v(\".finally\")]),e._v(\"çš„è¿”å›å€¼å¦‚æœåœ¨æ²¡æœ‰æŠ›å‡ºé”™è¯¯çš„æƒ…å†µä¸‹é»˜è®¤ä¼šæ˜¯ä¸Šä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„è¿”å›å€¼(\"),n(\"code\",[e._v(\"3.10\")]),e._v(\"ä¸­ä¹Ÿæœ‰æåˆ°), è€Œè¿™é“é¢˜ä¸­\"),n(\"code\",[e._v(\".finally\")]),e._v(\"ä¸Šä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"æ˜¯\"),n(\"code\",[e._v(\".then()\")]),e._v(\"ï¼Œä½†æ˜¯è¿™ä¸ª\"),n(\"code\",[e._v(\".then()\")]),e._v(\"å¹¶æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥\"),n(\"code\",[e._v(\"p1\")]),e._v(\"æ‰“å°å‡ºæ¥çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"çš„å€¼ä¼šæ˜¯\"),n(\"code\",[e._v(\"undefined\")]),e._v(\"ï¼Œå¦‚æœä½ åœ¨å®šæ—¶å™¨çš„\"),n(\"strong\",[e._v(\"ä¸‹é¢\")]),e._v(\"åŠ ä¸Šä¸€ä¸ª\"),n(\"code\",[e._v(\"return 1\")]),e._v(\"ï¼Œåˆ™å€¼å°±ä¼šå˜æˆ\"),n(\"code\",[e._v(\"1\")]),e._v(\"(æ„Ÿè°¢æ˜å‹\"),n(\"a\",{attrs:{href:\"https://juejin.im/user/2260251637193639\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"JSä¸›ä¸­è¿‡\"),n(\"OutboundLink\")],1),e._v(\"çš„æŒ‡å‡º)ã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'resolve1'\\n'finally' undefined\\n'timer1'\\nPromise{<resolved>: undefined}\\n\")])])]),n(\"h3\",{attrs:{id:\"_8-å‡ é“å¤§å‚çš„é¢è¯•é¢˜\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-å‡ é“å¤§å‚çš„é¢è¯•é¢˜\"}},[e._v(\"#\")]),e._v(\" 8. å‡ é“å¤§å‚çš„é¢è¯•é¢˜\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_8-1-ä½¿ç”¨promiseå®ç°æ¯éš”1ç§’è¾“å‡º1-2-3\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-1-ä½¿ç”¨promiseå®ç°æ¯éš”1ç§’è¾“å‡º1-2-3\"}},[e._v(\"#\")]),e._v(\" 8.1 ä½¿ç”¨Promiseå®ç°æ¯éš”1ç§’è¾“å‡º1,2,3\")]),e._v(\" \"),n(\"p\",[e._v(\"è¿™é“é¢˜æ¯”è¾ƒç®€å•çš„ä¸€ç§åšæ³•æ˜¯å¯ä»¥ç”¨\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"é…åˆç€\"),n(\"code\",[e._v(\"reduce\")]),e._v(\"ä¸åœçš„åœ¨\"),n(\"code\",[e._v(\"promise\")]),e._v(\"åé¢å åŠ \"),n(\"code\",[e._v(\".then\")]),e._v(\"ï¼Œè¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const arr = [1, 2, 3]\\narr.reduce((p, x) => {\\n  return p.then(() => {\\n    return new Promise(r => {\\n      setTimeout(() => r(console.log(x)), 1000)\\n    })\\n  })\\n}, Promise.resolve())\\n\")])])]),n(\"p\",[e._v(\"æˆ–è€…ä½ å¯ä»¥æ›´ç®€å•ä¸€ç‚¹å†™ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const arr = [1, 2, 3]\\narr.reduce((p, x) => p.then(() => new Promise(r => setTimeout(() => r(console.log(x)), 1000))), Promise.resolve())\\n\")])])]),n(\"p\",[e._v(\"å‚è€ƒé“¾æ¥ï¼š\"),n(\"a\",{attrs:{href:\"https://link.juejin.cn/?target=https%3A%2F%2Fsegmentfault.com%2Fq%2F1010000010748967\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"å¦‚ä½•è®©å¼‚æ­¥æ“ä½œé¡ºåºæ‰§è¡Œ\"),n(\"OutboundLink\")],1),e._v(\" \"),n(\"strong\",[e._v(\"æ‹“å±•é¢˜\")]),e._v(\"\\nè¿™é“æ‹“å±•é¢˜æ¥è‡ªäºâ€œä¸‡ç‰©çš†å¯çˆ±çš„\"),n(\"a\",{attrs:{href:\"https://juejin.im/user/2436173498955032\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"LINGLONG\"),n(\"OutboundLink\")],1),e._v(\" â€å°å§å§ï¼Œç‚’é¸¡æ£’ ğŸ˜ğŸ‘ã€‚\\né¢˜ç›®æ˜¯è¿™æ ·çš„ï¼Œå¥¹æŠŠæˆ‘ä¸Šé¢ğŸ‘†å†™çš„ç®­å¤´å‡½æ•°ç‰ˆæœ¬æ”¹é€ äº†ä¸€ä¸‹ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const arr = [1, 2, 3];\\nconst result = arr.reduce((p, x) => p.then(new Promise(r => setTimeout(() => r(console.log(x)), 1000))), Promise.resolve());\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"çœ¼å°–çš„å°ä¼™ä¼´çœ‹å‡ºåŒºåˆ«äº†å—ï¼ŸğŸ˜\\n\"),n(\"code\",[e._v(\"p.then\")]),e._v(\"é‡Œçš„ä»£ç ç”±\"),n(\"code\",[e._v(\"() => new Promise(...)\")]),e._v(\"å˜æˆäº†\"),n(\"code\",[e._v(\"new Promise(...)\")]),e._v(\"ã€‚\\nç°åœ¨æ‰§è¡Œç»“æœå°±å¤§ä¸ç›¸åŒäº†ã€‚\\n\"),n(\"strong\",[e._v(\"åœ¨ä¸€ç§’åæŒ‰é¡ºåºåŒæ—¶æ‰“å°å‡º\"),n(\"code\",[e._v(\"1ã€2ã€3\")]),e._v(\":\")])]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"1\\n2\\n3\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å’¦ ğŸ¤”ï¸ï¼Ÿä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ ğŸ¤”ï¸ï¼Ÿ\\nåªæ˜¯ä¸€ä¸ªå°å°çš„æ”¹å˜å´æœ‰å¤§å¤§çš„åŒºåˆ«ã€‚\\nå…¶å®åˆšå¼€å§‹çœ‹åˆ°çš„æ—¶å€™éœ–å‘†å‘†æˆ‘ä¹Ÿæ„£äº†é‚£ä¹ˆå‡ ç§’ğŸ˜‚ã€‚ä¸è¿‡ç­‰æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ‹†åˆ†å¹¶å¯¹æƒ³ä¸é€šçš„åœ°æ–¹å†™äº†å‡ ä¸ªæ¡ˆä¾‹æ¥çœ‹å°±ç†è§£äº†ã€‚\\nè¯„è®ºåŒºå’Œå°å§å§æ‰¯äº†ä¸€å¤§å †ï¼Œç»“æœæŠŠå¥¹è¶Šå¼„è¶Šç³ŠğŸ˜‚ã€‚åæ¥æˆ‘æ”¹å˜äº†ä¸€ç§æ€è·¯æ¥æè¿°ï¼Œè§‰å¾—åº”è¯¥ç›´æ¥ä¸Šä¼ªä»£ç ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const arr = [1, 2, 3]\\narr.reduce((p, x) => p.then(() => new Promise(r => setTimeout(() => r(console.log(x)), 1000))), Promise.resolve())\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è½¬æ¢ä¸ºä¼ªä»£ç å°±æ˜¯è¿™æ ·ï¼š\\n(ç›¸å½“äºæ˜¯ç”¨\"),n(\"code\",[e._v(\"reduce\")]),e._v(\"ä¸åœçš„å¾€åé¢å åŠ \"),n(\"code\",[e._v(\".then\")]),e._v(\")\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve()\\n  .then(() => {\\n    return new Promise(r => {\\n      setTimeout(() => {\\n        r(console.log(1))\\n      }, 1000)\\n    })\\n  })\\n  .then(r => {\\n    return new Promise(r => {\\n      setTimeout(() => {\\n        r(console.log(2))\\n      }, 1000)\\n    })\\n  })\\n  .then(r => {\\n    return new Promise(r => {\\n      setTimeout(() => {\\n        r(console.log(3))\\n      }, 1000)\\n    })\\n  })\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€ä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"éƒ½æ˜¯ä¾èµ–äºä¸Šä¸€ä¸ª\"),n(\"code\",[e._v(\"new Promise\")]),e._v(\"ä½•æ—¶è¢«\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"äº†æ‰ä¼šæ‰§è¡Œçš„ï¼Œä¾‹å¦‚ç¬¬äºŒä¸ª\"),n(\"code\",[e._v(\".then()\")]),e._v(\"ï¼Œå®ƒè¦ç­‰\"),n(\"code\",[e._v(\"r(console.log(1)\")]),e._v(\"è¿™æ®µä»£ç æ‰§è¡Œäº†ï¼Œæ‰ä¼šæ‰§è¡Œã€‚\\né‚£ä¹ˆ\"),n(\"code\",[e._v(\"r(console.log(1))\")]),e._v(\"ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå‘¢ï¼Ÿå°±æ˜¯åœ¨ç¬¬ä¸€ä¸ªå®šæ—¶å™¨(ä¹Ÿå°±æ˜¯ä¸€ç§’å)è§¦å‘çš„æ—¶å€™æ‰æ‰§è¡Œã€‚è¿™æ ·å°±ä¿è¯äº†åé¢æ¥ç€çš„\"),n(\"code\",[e._v(\".then()\")]),e._v(\"è¦ç­‰å‰ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯éš”ä¸€ç§’è¾“å‡ºã€‚\\nè€Œå¦‚æœæ˜¯è¿™æ ·å†™çš„è¯ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const arr = [1, 2, 3];\\nconst result = arr.reduce((p, x) => p.then(new Promise(r => setTimeout(() => r(console.log(x)), 1000))), Promise.resolve());\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å®ƒçš„ä¼ªä»£ç å°±æ˜¯è¿™æ ·ï¼š\\n(æ¯ä¸ª\"),n(\"code\",[e._v(\"then\")]),e._v(\"é‡Œé¢çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ä¸€ä¸ªå‡½æ•°)\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"Promise.resolve()\\n  .then(new Promise(r => {\\n    setTimeout(() => {\\n      r(console.log(1))\\n    }, 1000)\\n  }))\\n  .then(new Promise(r => {\\n    setTimeout(() => {\\n      r(console.log(2))\\n    }, 1000)\\n  }))\\n  .then(new Promise(r => {\\n    setTimeout(() => {\\n      r(console.log(3))\\n    }, 1000)\\n  }))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[n(\"code\",[e._v(\"p.then()\")]),e._v(\"é‡Œé¢çš„å‚æ•°å¦‚æœä¸æ˜¯å‡½æ•°çš„è¯ï¼Œä¼šå‘ç”Ÿé€ä¼ ï¼Œè¿™ä¸ªåœ¨\"),n(\"code\",[e._v(\"3.8\")]),e._v(\"ä¸­å·²ç»æè¿‡äº†ã€‚ä½†æ˜¯å‘ç”Ÿé€ä¼ ï¼Œ\"),n(\"code\",[e._v(\".then()\")]),e._v(\"é‡Œçš„ä»£ç å°±ä¸æ‰§è¡Œäº†å—ï¼Ÿ\\nå¹¶ä¸æ˜¯çš„ï¼Œæˆ‘ä»¬æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"const p = Promise.resolve(1).then(console.log('æˆ‘ä¸å…³å¿ƒç»“æœ'))\\nconsole.log(p)\\np.then((res) => console.log(res))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"å¾ˆæ˜æ˜¾è¿™é‡Œä¹Ÿå‘ç”Ÿäº†é€ä¼ ï¼Œä½†æ˜¯\"),n(\"code\",[e._v(\"'æˆ‘ä¸å…³å¿ƒç»“æœ'\")]),e._v(\"ä¹Ÿè¿˜æ˜¯è¢«æ‰“å°å‡ºæ¥äº†ï¼Œå¹¶ä¸”ç”±äºé€ä¼ ï¼Œ\"),n(\"code\",[e._v(\"p.then()\")]),e._v(\"é‡Œè·å–åˆ°çš„\"),n(\"code\",[e._v(\"res\")]),e._v(\"å°±æ˜¯\"),n(\"code\",[e._v(\"1\")]),e._v(\"ï¼Œå› æ­¤ä¼šæ‰“å°å‡ºï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"'æˆ‘ä¸å…³å¿ƒç»“æœ'\\nPromise{\\n[[PromiseStatus]]: \\\"resolved\\\"\\n[[PromiseValue]]: 1\\n}\\n1\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"(ç¬¬äºŒè¡Œæ‰“å°å‡º\"),n(\"code\",[e._v(\"Promise{<pending>}\")]),e._v(\"çš„å°ä¼™ä¼´è¯·æŠŠè¿™ä¸ªå¯¹è±¡å±•å¼€æ¥çœ‹)\\nè¿™ä¸ªä¾‹å­è¡¨æ˜ï¼Œå°±ç®—å‘ç”Ÿäº†é€ä¼ ï¼Œ\"),n(\"code\",[e._v(\"p.then()\")]),e._v(\"ä¸­çš„ä»£ç ä¾æ—§ä¹Ÿæ˜¯ä¼šæ‰§è¡Œçš„ã€‚\\næ‰€ä»¥å›åˆ°\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\".then(new Promise(r => {\\n    setTimeout(() => {\\n      r(console.log(1))\\n    }, 1000)\\n  }))\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ä¸­ï¼Œç°åœ¨\"),n(\"code\",[e._v(\".then()\")]),e._v(\"ä¸­å°±ç›¸å½“äºæ˜¯æ‰§è¡Œä¸€æ®µåŒæ­¥ä»£ç ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"new Promise(r => {\\n    setTimeout(() => {\\n      r(console.log(1))\\n    }, 1000)\\n  })\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"è€Œè¿™æ®µä»£ç çš„ä½œç”¨æ˜¯å‘å»¶è¿Ÿé˜Ÿåˆ—ä¸­\"),n(\"code\",[e._v(\"push\")]),e._v(\"ä¸€ä¸ªä¸€ç§’åæ‰§è¡Œçš„å®šæ—¶å™¨ä»»åŠ¡ã€‚\\nå¹¶ä¸”åœ¨\"),n(\"code\",[e._v(\"push\")]),e._v(\"å®Œå®šæ—¶å™¨ä¹‹åï¼Œä»£ç å°±é©¬ä¸Šè¿›å…¥äº†ä¸‹ä¸€ä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"(å› ä¸ºæ—¢ç„¶ç¬¬ä¸€ä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"å·²ç»æ˜¯é€ä¼ çš„äº†å°±æ²¡æœ‰å¿…è¦ç­‰å®ƒçš„æ‰§è¡Œç»“æœäº†)\\nä¸‹ä¸€ä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"ç«Ÿç„¶ä¹Ÿæ˜¯ä¸€ä¸ªé€ä¼ ï¼ŒOKï¼Œé‚£æˆ‘ç»§ç»­\"),n(\"code\",[e._v(\"push\")]),e._v(\"è¿™ä¸ªå®šæ—¶å™¨ï¼Œç„¶åå†æ‰§è¡Œç¬¬ä¸‰ä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"ã€‚\\nä¸‰ä¸ª\"),n(\"code\",[e._v(\".then\")]),e._v(\"å·²ç»æ‰§è¡Œå®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬çš„å»¶è¿Ÿé˜Ÿåˆ—ä¸­å·²ç»æœ‰äº†ä¸‰ä¸ªå®šæ—¶å™¨ç­‰å¾…æ‰§è¡Œï¼Œ\"),n(\"strong\",[e._v(\"å¹¶ä¸”ä¸‰ä¸ªå®šæ—¶å™¨çš„å»¶è¿Ÿæ—¶é—´éƒ½æ˜¯1000ms!!!\")]),e._v(\"ã€‚\\næ‰€ä»¥ç­‰åˆ°äº†æ—¶é—´ä¹‹åï¼Œå°±ä¼šåŒæ—¶æ‰“å°å‡ºæ¥äº†\"),n(\"code\",[e._v(\"1ã€2ã€3\")]),e._v(\"ã€‚ï¼ˆå…¶å®å‡†ç¡®æ¥è¯´ï¼Œä¸æ˜¯åŒæ—¶æ‰“å°çš„ï¼Œä¸è¿‡ä¸­é—´ç›¸å·®çš„æ—¶é—´éå¸¸éå¸¸çŸ­ï¼Œå¤§å¯å¿½ç•¥å®ƒï¼‰\\nç°åœ¨ä½ æ˜¯å¦ç†è§£äº†å…¶ä¸­çš„åŒºåˆ«å‘¢ ğŸ˜ã€‚\")]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_8-2-ä½¿ç”¨promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-2-ä½¿ç”¨promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®\"}},[e._v(\"#\")]),e._v(\" 8.2 ä½¿ç”¨Promiseå®ç°çº¢ç»¿ç¯äº¤æ›¿é‡å¤äº®\")]),e._v(\" \"),n(\"p\",[e._v(\"çº¢ç¯3ç§’äº®ä¸€æ¬¡ï¼Œé»„ç¯2ç§’äº®ä¸€æ¬¡ï¼Œç»¿ç¯1ç§’äº®ä¸€æ¬¡ï¼›å¦‚ä½•è®©ä¸‰ä¸ªç¯ä¸æ–­äº¤æ›¿é‡å¤äº®ç¯ï¼Ÿï¼ˆç”¨Promiseå®ç°ï¼‰ä¸‰ä¸ªäº®ç¯å‡½æ•°å·²ç»å­˜åœ¨ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function red() {\\n    console.log('red');\\n}\\nfunction green() {\\n    console.log('green');\\n}\\nfunction yellow() {\\n    console.log('yellow');\\n}\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[e._v(\"ç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('function red() {\\n  console.log(\"red\");\\n}\\nfunction green() {\\n  console.log(\"green\");\\n}\\nfunction yellow() {\\n  console.log(\"yellow\");\\n}\\nconst light = function (timer, cb) {\\n  return new Promise(resolve => {\\n    setTimeout(() => {\\n      cb()\\n      resolve()\\n    }, timer)\\n  })\\n}\\nconst step = function () {\\n  Promise.resolve().then(() => {\\n    return light(3000, red)\\n  }).then(() => {\\n    return light(2000, green)\\n  }).then(() => {\\n    return light(1000, yellow)\\n  }).then(() => {\\n    return step()\\n  })\\n}\\nstep();\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"h4\",{attrs:{id:\"_8-3-å®ç°mergepromiseå‡½æ•°\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-3-å®ç°mergepromiseå‡½æ•°\"}},[e._v(\"#\")]),e._v(\" 8.3 å®ç°mergePromiseå‡½æ•°\")]),e._v(\" \"),n(\"p\",[e._v(\"å®ç°mergePromiseå‡½æ•°ï¼ŒæŠŠä¼ è¿›å»çš„æ•°ç»„æŒ‰é¡ºåºå…ˆåæ‰§è¡Œï¼Œå¹¶ä¸”æŠŠè¿”å›çš„æ•°æ®å…ˆåæ”¾åˆ°æ•°ç»„dataä¸­ã€‚\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('const time = (timer) => {\\n  return new Promise(resolve => {\\n    setTimeout(() => {\\n      resolve()\\n    }, timer)\\n  })\\n}\\nconst ajax1 = () => time(2000).then(() => {\\n  console.log(1);\\n  return 1\\n})\\nconst ajax2 = () => time(1000).then(() => {\\n  console.log(2);\\n  return 2\\n})\\nconst ajax3 = () => time(1000).then(() => {\\n  console.log(3);\\n  return 3\\n})\\nfunction mergePromise () {\\n  // åœ¨è¿™é‡Œå†™ä»£ç \\n}\\nmergePromise([ajax1, ajax2, ajax3]).then(data => {\\n  console.log(\"done\");\\n  console.log(data); // data ä¸º [1, 2, 3]\\n});\\n// è¦æ±‚åˆ†åˆ«è¾“å‡º\\n// 1\\n// 2\\n// 3\\n// done\\n// [1, 2, 3]\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"è¿™é“é¢˜æœ‰ç‚¹ç±»ä¼¼äº\"),n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"ï¼Œä¸è¿‡\"),n(\"code\",[e._v(\".all()\")]),e._v(\"ä¸éœ€è¦ç®¡æ‰§è¡Œé¡ºåºï¼Œåªéœ€è¦å¹¶å‘æ‰§è¡Œå°±è¡Œäº†ã€‚ä½†æ˜¯è¿™é‡Œéœ€è¦ç­‰ä¸Šä¸€ä¸ªæ‰§è¡Œå®Œæ¯•ä¹‹åæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ªã€‚\\nè§£é¢˜æ€è·¯ï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"å®šä¹‰ä¸€ä¸ªæ•°ç»„\"),n(\"code\",[e._v(\"data\")]),e._v(\"ç”¨äºä¿å­˜æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœ\")]),e._v(\" \"),n(\"li\",[e._v(\"åˆå§‹åŒ–ä¸€ä¸ª\"),n(\"code\",[e._v(\"const promise = Promise.resolve()\")]),e._v(\"ï¼Œç„¶åå¾ªç¯éå†æ•°ç»„ï¼Œåœ¨\"),n(\"code\",[e._v(\"promise\")]),e._v(\"åé¢æ·»åŠ æ‰§è¡Œ\"),n(\"code\",[e._v(\"ajax\")]),e._v(\"ä»»åŠ¡ï¼ŒåŒæ—¶è¦å°†æ·»åŠ çš„ç»“æœé‡æ–°èµ‹å€¼åˆ°\"),n(\"code\",[e._v(\"promise\")]),e._v(\"ä¸Šã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"ç­”æ¡ˆï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function mergePromise (ajaxArray) {\\n  // å­˜æ”¾æ¯ä¸ªajaxçš„ç»“æœ\\n  const data = [];\\n  let promise = Promise.resolve();\\n  ajaxArray.forEach(ajax => {\\n  \\t// ç¬¬ä¸€æ¬¡çš„thenä¸ºäº†ç”¨æ¥è°ƒç”¨ajax\\n  \\t// ç¬¬äºŒæ¬¡çš„thenæ˜¯ä¸ºäº†è·å–ajaxçš„ç»“æœ\\n    promise = promise.then(ajax).then(res => {\\n      data.push(res);\\n      return data; // æŠŠæ¯æ¬¡çš„ç»“æœè¿”å›\\n    })\\n  })\\n  // æœ€åå¾—åˆ°çš„promiseå®ƒçš„å€¼å°±æ˜¯data\\n  return promise;\\n}\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"h4\",{attrs:{id:\"_8-4-æ ¹æ®promisea-å®ç°ä¸€ä¸ªè‡ªå·±çš„promise\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-4-æ ¹æ®promisea-å®ç°ä¸€ä¸ªè‡ªå·±çš„promise\"}},[e._v(\"#\")]),e._v(\" 8.4 æ ¹æ®promiseA+å®ç°ä¸€ä¸ªè‡ªå·±çš„promise\")]),e._v(\" \"),n(\"p\",[e._v(\"è¯´çœŸçš„ï¼Œè¿™é“é¢˜è¢«é—®åˆ°çš„æ¦‚ç‡è¿˜æ˜¯æŒºé«˜çš„ï¼Œè€Œä¸”è¦è¯´çš„å†…å®¹ä¹Ÿå¾ˆå¤š...\")]),e._v(\" \"),n(\"p\",[e._v(\"æ¥å§ï¼Œç»™ä½ ä»¬ä¸€äº›å¥½çš„å®å…¸ï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[n(\"a\",{attrs:{href:\"https://juejin.im/post/6844903607968481287#heading-7\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ã€ŠPromiseä¸ä¼šï¼Ÿï¼Ÿçœ‹è¿™é‡Œï¼ï¼ï¼å²ä¸Šæœ€é€šä¿—æ˜“æ‡‚çš„Promiseï¼ï¼ï¼ã€‹\"),n(\"OutboundLink\")],1)]),e._v(\" \"),n(\"li\",[n(\"a\",{attrs:{href:\"https://link.juejin.cn/?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F23312442\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"ã€Šå†™ä¸€ä¸ªç¬¦åˆ Promises/A+ è§„èŒƒå¹¶å¯é…åˆ ES7 async/await ä½¿ç”¨çš„ Promiseã€‹\"),n(\"OutboundLink\")],1)])]),e._v(\" \"),n(\"h4\",{attrs:{id:\"_8-5-å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-5-å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•\"}},[e._v(\"#\")]),e._v(\" 8.5 å°è£…ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•\")]),e._v(\" \"),n(\"p\",[e._v(\"è¿™ä¸ªç›¸å¯¹ç®€å•ä¸€äº›ï¼Œåªéœ€è¦åœ¨å›¾ç‰‡çš„\"),n(\"code\",[e._v(\"onload\")]),e._v(\"å‡½æ•°ä¸­ï¼Œä½¿ç”¨\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"è¿”å›ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚\\næ¥çœ‹çœ‹å…·ä½“ä»£ç ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function loadImg(url) {\\n  return new Promise((resolve, reject) => {\\n    const img = new Image();\\n    img.onload = function() {\\n      console.log(\\\"ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ\\\");\\n      resolve(img);\\n    };\\n    img.onerror = function() {\\n    \\treject(new Error('Could not load image at' + url));\\n    };\\n    img.src = url;\\n  });\\n\")])])]),n(\"h4\",{attrs:{id:\"_8-6-é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-6-é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨\"}},[e._v(\"#\")]),e._v(\" 8.6 é™åˆ¶å¼‚æ­¥æ“ä½œçš„å¹¶å‘ä¸ªæ•°å¹¶å°½å¯èƒ½å¿«çš„å®Œæˆå…¨éƒ¨\")]),e._v(\" \"),n(\"p\",[e._v(\"æœ‰8ä¸ªå›¾ç‰‡èµ„æºçš„urlï¼Œå·²ç»å­˜å‚¨åœ¨æ•°ç»„\"),n(\"code\",[e._v(\"urls\")]),e._v(\"ä¸­ã€‚\\n\"),n(\"code\",[e._v(\"urls\")]),e._v(\"ç±»ä¼¼äº\"),n(\"code\",[e._v(\"['https://image1.png', 'https://image2.png', ....]\")]),e._v(\"\\nè€Œä¸”å·²ç»æœ‰ä¸€ä¸ªå‡½æ•°\"),n(\"code\",[e._v(\"function loadImg\")]),e._v(\"ï¼Œè¾“å…¥ä¸€ä¸ª\"),n(\"code\",[e._v(\"url\")]),e._v(\"é“¾æ¥ï¼Œè¿”å›ä¸€ä¸ª\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"ï¼Œè¯¥\"),n(\"code\",[e._v(\"Promise\")]),e._v(\"åœ¨å›¾ç‰‡ä¸‹è½½å®Œæˆçš„æ—¶å€™\"),n(\"code\",[e._v(\"resolve\")]),e._v(\"ï¼Œä¸‹è½½å¤±è´¥åˆ™\"),n(\"code\",[e._v(\"reject\")]),e._v(\"ã€‚\\nä½†æœ‰ä¸€ä¸ªè¦æ±‚ï¼Œä»»ä½•æ—¶åˆ»åŒæ—¶ä¸‹è½½çš„é“¾æ¥\"),n(\"strong\",[e._v(\"æ•°é‡ä¸å¯ä»¥è¶…è¿‡3ä¸ª\")]),e._v(\"ã€‚\\nè¯·å†™ä¸€æ®µä»£ç å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œè¦æ±‚\"),n(\"strong\",[e._v(\"å°½å¯èƒ½å¿«é€Ÿ\")]),e._v(\"åœ°å°†æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆã€‚\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('var urls = [\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting1.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting2.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting3.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting4.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/AboutMe-painting5.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn6.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn7.png\",\\n  \"https://hexo-blog-1256114407.cos.ap-shenzhen-fsi.myqcloud.com/bpmn8.png\",\\n];\\nfunction loadImg(url) {\\n  return new Promise((resolve, reject) => {\\n    const img = new Image();\\n    img.onload = function() {\\n      console.log(\"ä¸€å¼ å›¾ç‰‡åŠ è½½å®Œæˆ\");\\n      resolve(img);\\n    };\\n    img.onerror = function() {\\n    \\treject(new Error(\\'Could not load image at\\' + url));\\n    };\\n    img.src = url;\\n  });\\nå¤åˆ¶ä»£ç \\n')])])]),n(\"p\",[e._v(\"çœ‹åˆ°è¿™é“é¢˜æ—¶ï¼Œæˆ‘æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯ï¼š\")]),e._v(\" \"),n(\"ul\",[n(\"li\",[e._v(\"æ‹¿åˆ°\"),n(\"code\",[e._v(\"urls\")]),e._v(\"ï¼Œç„¶åå°†è¿™ä¸ªæ•°ç»„æ¯3ä¸ª\"),n(\"code\",[e._v(\"url\")]),e._v(\"ä¸€ç»„åˆ›å»ºæˆä¸€ä¸ªäºŒç»´æ•°ç»„\")]),e._v(\" \"),n(\"li\",[e._v(\"ç„¶åç”¨\"),n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"æ¯æ¬¡åŠ è½½ä¸€ç»„\"),n(\"code\",[e._v(\"url\")]),e._v(\"ï¼ˆä¹Ÿå°±æ˜¯å¹¶å‘3ä¸ªï¼‰ï¼Œè¿™ä¸€ç»„åŠ è½½å®Œå†åŠ è½½ä¸‹ä¸€ç»„ã€‚\")])]),e._v(\" \"),n(\"p\",[e._v(\"è¿™ä¸ªæƒ³æ³•ä»æŠ€æœ¯ä¸Šè¯´å¹¶ä¸éš¾å®ç°ï¼Œæœ‰ç‚¹ç±»ä¼¼äºç¬¬ä¸‰é¢˜ã€‚ä¸è¿‡ç¼ºç‚¹ä¹Ÿæ˜æ˜¾ï¼Œé‚£å°±æ˜¯æ¯æ¬¡éƒ½è¦ç­‰åˆ°ä¸Šä¸€ç»„å…¨éƒ¨åŠ è½½å®Œä¹‹åï¼Œæ‰åŠ è½½ä¸‹ä¸€ç»„ï¼Œé‚£å¦‚æœä¸Šä¸€ç»„æœ‰\"),n(\"code\",[e._v(\"2\")]),e._v(\"ä¸ªå·²ç»åŠ è½½å®Œäº†ï¼Œè¿˜æœ‰\"),n(\"code\",[e._v(\"1\")]),e._v(\"ä¸ªç‰¹åˆ«æ…¢ï¼Œè¿˜åœ¨åŠ è½½ï¼Œè¦ç­‰è¿™ä¸ªæ…¢çš„ä¹ŸåŠ è½½å®Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ç»„ã€‚è¿™æ˜æ˜¾ä¼šç…§å¸¸å¡é¡¿ï¼Œå½±å“åŠ è½½æ•ˆç‡ã€‚\\nä½†æ˜¯å¼€å§‹æ²¡æœ‰è€ƒè™‘è¿™ä¹ˆå¤šï¼Œå› æ­¤æœ‰äº†ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚\\n\"),n(\"strong\",[e._v(\"å¦‚æœä½ æœ‰å…´è¶£å¯ä»¥çœ‹çœ‹æƒ³æ³•ä¸€çš„ä»£ç ï¼Œè™½ç„¶å¯¹ä½ æ²¡ä»€ä¹ˆå¸®åŠ©ï¼Œæƒ³ç›´æ¥çŸ¥é“æ¯”è¾ƒå¥½çš„åšæ³•çš„å°ä¼™ä¼´è¯·è·³åˆ°æƒ³æ³•äºŒ\")])]),e._v(\" \"),n(\"p\",[n(\"strong\",[e._v(\"æƒ³æ³•ä¸€\")]),e._v(\"ğŸ’¡ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v(\"function limitLoad (urls, handler, limit) {\\n  const data = []; // å­˜å‚¨æ‰€æœ‰çš„åŠ è½½ç»“æœ\\n  let p = Promise.resolve();\\n  const handleUrls = (urls) => { // è¿™ä¸ªå‡½æ•°æ˜¯ä¸ºäº†ç”Ÿæˆ3ä¸ªurlä¸ºä¸€ç»„çš„äºŒç»´æ•°ç»„\\n    const doubleDim = [];\\n    const len = Math.ceil(urls.length / limit); // Math.ceil(8 / 3) = 3\\n    console.log(len) // 3, è¡¨ç¤ºäºŒç»´æ•°ç»„çš„é•¿åº¦ä¸º3\\n    for (let i = 0; i < len; i++) {\\n      doubleDim.push(urls.slice(i * limit, (i + 1) * limit))\\n    }\\n    return doubleDim;\\n  }\\n  const ajaxImage = (urlCollect) => { // å°†ä¸€ç»„å­—ç¬¦ä¸²url è½¬æ¢ä¸ºä¸€ä¸ªåŠ è½½å›¾ç‰‡çš„æ•°ç»„\\n    console.log(urlCollect)\\n    return urlCollect.map(url => handler(url))\\n  }\\n  const doubleDim = handleUrls(urls); // å¾—åˆ°3ä¸ªurlä¸ºä¸€ç»„çš„äºŒç»´æ•°ç»„\\n  doubleDim.forEach(urlCollect => {\\n    p = p.then(() => Promise.all(ajaxImage(urlCollect))).then(res => {\\n      data.push(...res); // å°†æ¯æ¬¡çš„ç»“æœå±•å¼€ï¼Œå¹¶å­˜å‚¨åˆ°dataä¸­ (resä¸ºï¼š[img, img, img])\\n      return data;\\n    })\\n  })\\n  return p;\\n}\\nlimitLoad(urls, loadImg, 3).then(res => {\\n  console.log(res); // æœ€ç»ˆå¾—åˆ°çš„æ˜¯é•¿åº¦ä¸º8çš„imgæ•°ç»„: [img, img, img, ...]\\n  res.forEach(img => {\\n    document.body.appendChild(img);\\n  })\\n});\\nå¤åˆ¶ä»£ç \\n\")])])]),n(\"p\",[n(\"strong\",[e._v(\"æƒ³æ³•äºŒ\")]),e._v(\"ğŸ’¡ï¼š\\nå‚è€ƒ\"),n(\"a\",{attrs:{href:\"https://link.juejin.cn/?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2F4bb1521343ba\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"LHHå¤§ç¿°ä»”ä»”-Promiseé¢è¯•é¢˜\"),n(\"OutboundLink\")],1),e._v(\"\\næ—¢ç„¶é¢˜ç›®çš„è¦æ±‚æ˜¯ä¿è¯æ¯æ¬¡å¹¶å‘è¯·æ±‚çš„æ•°é‡ä¸º3ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆè¯·æ±‚\"),n(\"code\",[e._v(\"urls\")]),e._v(\"ä¸­çš„å‰é¢ä¸‰ä¸ª(ä¸‹æ ‡ä¸º\"),n(\"code\",[e._v(\"0,1,2\")]),e._v(\")ï¼Œå¹¶ä¸”è¯·æ±‚çš„æ—¶å€™ä½¿ç”¨\"),n(\"code\",[e._v(\"Promise.race()\")]),e._v(\"æ¥åŒæ—¶è¯·æ±‚ï¼Œä¸‰ä¸ªä¸­æœ‰ä¸€ä¸ªå…ˆå®Œæˆäº†(ä¾‹å¦‚ä¸‹æ ‡ä¸º\"),n(\"code\",[e._v(\"1\")]),e._v(\"çš„å›¾ç‰‡)ï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªå½“å‰æ•°ç»„ä¸­å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹(ç¬¬\"),n(\"code\",[e._v(\"1\")]),e._v(\"é¡¹)æ¢æˆè¿˜æ²¡æœ‰è¯·æ±‚çš„é‚£ä¸€é¡¹(\"),n(\"code\",[e._v(\"urls\")]),e._v(\"ä¸­ä¸‹æ ‡ä¸º\"),n(\"code\",[e._v(\"3\")]),e._v(\")ã€‚\\nç›´åˆ°\"),n(\"code\",[e._v(\"urls\")]),e._v(\"å·²ç»éå†å®Œäº†ï¼Œç„¶åå°†æœ€åä¸‰ä¸ªæ²¡æœ‰å®Œæˆçš„è¯·æ±‚(ä¹Ÿå°±æ˜¯çŠ¶æ€æ²¡æœ‰æ”¹å˜çš„\"),n(\"code\",[e._v(\"Promise\")]),e._v(\")ç”¨\"),n(\"code\",[e._v(\"Promise.all()\")]),e._v(\"æ¥åŠ è½½å®ƒä»¬ã€‚\\nä¸å¤šè¯´ï¼Œæµç¨‹å›¾éƒ½ç»™ä½ ç”»å¥½äº†ï¼Œä½ å¯ä»¥ç»“åˆæµç¨‹å›¾å†æ¥çœ‹ä»£ç ã€‚\\n\"),n(\"img\",{attrs:{src:\"https://cdn.nlark.com/yuque/0/2021/webp/12821255/1626357897791-69df6288-2c0c-422b-b367-39ab05c6746d.webp#align=left&display=inline&height=804&margin=%5Bobject%20Object%5D&originHeight=804&originWidth=1280&size=0&status=done&style=none&width=1280\",alt:\"\"}}),e._v(\"\\nä¸ºäº†æ–¹ä¾¿ä½ æŸ¥çœ‹ï¼Œæˆ‘æˆªäº†ä¸ªå›¾ï¼Œä¸è¿‡ä»£ç åœ¨åé¢ä¹Ÿæœ‰\\n(è¯´çœŸçš„ï¼Œè¦æˆ‘çœ‹è¿™ä¸€å¤§é•¿ä¸²ä»£ç æˆ‘ä¹Ÿä¸æ„¿æ„...)\\n\"),n(\"img\",{attrs:{src:\"https://cdn.nlark.com/yuque/0/2021/webp/12821255/1626357897801-d7ac1182-8591-4407-8697-0327bc34953b.webp#align=left&display=inline&height=1280&margin=%5Bobject%20Object%5D&originHeight=1280&originWidth=864&size=0&status=done&style=none&width=864\",alt:\"\"}}),e._v(\"\\nä»£ç ï¼š\")]),e._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[e._v('function limitLoad(urls, handler, limit) {\\n  let sequence = [].concat(urls); // å¤åˆ¶urls\\n  // è¿™ä¸€æ­¥æ˜¯ä¸ºäº†åˆå§‹åŒ– promises è¿™ä¸ª\"å®¹å™¨\"\\n  let promises = sequence.splice(0, limit).map((url, index) => {\\n    return handler(url).then(() => {\\n      // è¿”å›ä¸‹æ ‡æ˜¯ä¸ºäº†çŸ¥é“æ•°ç»„ä¸­æ˜¯å“ªä¸€é¡¹æœ€å…ˆå®Œæˆ\\n      return index;\\n    });\\n  });\\n  // æ³¨æ„è¿™é‡Œè¦å°†æ•´ä¸ªå˜é‡è¿‡ç¨‹è¿”å›ï¼Œè¿™æ ·å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªPromiseï¼Œå¯ä»¥åœ¨å¤–é¢é“¾å¼è°ƒç”¨\\n  return sequence\\n    .reduce((pCollect, url) => {\\n      return pCollect\\n        .then(() => {\\n          return Promise.race(promises); // è¿”å›å·²ç»å®Œæˆçš„ä¸‹æ ‡\\n        })\\n        .then(fastestIndex => { // è·å–åˆ°å·²ç»å®Œæˆçš„ä¸‹æ ‡\\n        \\t// å°†\"å®¹å™¨\"å†…å·²ç»å®Œæˆçš„é‚£ä¸€é¡¹æ›¿æ¢\\n          promises[fastestIndex] = handler(url).then(\\n            () => {\\n              return fastestIndex; // è¦ç»§ç»­å°†è¿™ä¸ªä¸‹æ ‡è¿”å›ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡å˜é‡\\n            }\\n          );\\n        })\\n        .catch(err => {\\n          console.error(err);\\n        });\\n    }, Promise.resolve()) // åˆå§‹åŒ–ä¼ å…¥\\n    .then(() => { // æœ€åä¸‰ä¸ªç”¨.allæ¥è°ƒç”¨\\n      return Promise.all(promises);\\n    });\\n}\\nlimitLoad(urls, loadImg, 3)\\n  .then(res => {\\n    console.log(\"å›¾ç‰‡å…¨éƒ¨åŠ è½½å®Œæ¯•\");\\n    console.log(res);\\n  })\\n  .catch(err => {\\n    console.error(err);\\n  });\\n')])])]),n(\"p\",[e._v(\"ä½œè€…ï¼šLinDaiDai_éœ–å‘†å‘†\\né“¾æ¥ï¼š\"),n(\"a\",{attrs:{href:\"https://juejin.cn/post/6844904077537574919\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"https://juejin.cn/post/6844904077537574919\"),n(\"OutboundLink\")],1),e._v(\"\\næ¥æºï¼šæ˜é‡‘\\nè‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚\")])])}),[],!1,null,null,null);s.default=o.exports}}]);","extractedComments":[]}