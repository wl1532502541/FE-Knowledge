"use strict";(self.webpackChunkFE_Knowledge=self.webpackChunkFE_Knowledge||[]).push([[40],{6158:(e,n,a)=>{a.r(n),a.d(n,{data:()=>s});const s={key:"v-9953bb46",path:"/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%80%9A%E4%BF%A1/%E8%B7%A8%E5%9F%9F.html",title:"è·¨åŸŸ",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"å‰è¨€",slug:"å‰è¨€",children:[]},{level:2,title:"1ã€è®²ä¸€ä¸‹è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿ",slug:"_1ã€è®²ä¸€ä¸‹è·¨åŸŸæ˜¯ä»€ä¹ˆ",children:[]},{level:2,title:"2ã€åŒæºç­–ç•¥",slug:"_2ã€åŒæºç­–ç•¥",children:[{level:3,title:"2.1ã€ åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ",slug:"_2-1ã€-åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆ",children:[]},{level:3,title:"2.2ã€ ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥ï¼Ÿ",slug:"_2-2ã€-ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥",children:[]},{level:3,title:"2.3ã€ åŒæºç­–ç•¥å¸¦æ¥äº†ä»€ä¹ˆè®¿é—®é™åˆ¶ï¼Ÿ",slug:"_2-3ã€-åŒæºç­–ç•¥å¸¦æ¥äº†ä»€ä¹ˆè®¿é—®é™åˆ¶",children:[]}]},{level:2,title:"3ã€è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ³•ï¼Ÿ",slug:"_3ã€è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ³•",children:[{level:3,title:"3.1ã€ cookie -- document.domain",slug:"_3-1ã€-cookie-document-domain",children:[]},{level:3,title:"3.2ã€ APIè®¿é—® --  window.postMessage",slug:"_3-2ã€-apiè®¿é—®-window-postmessage",children:[]},{level:3,title:"3.3ã€JSONP",slug:"_3-3ã€jsonp",children:[]},{level:3,title:"3.4 cors",slug:"_3-4-cors",children:[]},{level:3,title:"3.5ã€ä»£ç† ï¼ˆnginxï¼‰",slug:"_3-5ã€ä»£ç†-nginx",children:[]}]},{level:2,title:"æ€»ç»“",slug:"æ€»ç»“",children:[]}],filePathRelative:"å‰åç«¯é€šä¿¡/è·¨åŸŸ.md",git:{updatedTime:1627488007e3,contributors:[{name:"wl1532502541",email:"1532502541@qq.com",commits:1}]}}},5374:(e,n,a)=>{a.r(n),a.d(n,{default:()=>N});var s=a(6252);const l=(0,s.uE)('<h1 id="è·¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#è·¨åŸŸ" aria-hidden="true">#</a> è·¨åŸŸ</h1><h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h2><p>ä»â€œè·¨åŸŸâ€è¿™ä¸ªè¯å¼€å§‹ï¼Œå»ç†æ¸…è·¨åŸŸè¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œé€”å¾„åŒæºç­–ç•¥ï¼Œè·¨è¿‡document.domainï¼Œwindow.postMessageï¼ŒJSONPï¼ŒCORSç­‰ï¼Œå…ˆæ”¾è‹¥å¹²ä¸ªé—®é¢˜ï¼Œå¸Œæœ›çœ‹å®Œæ–‡ç« çš„ä½ å¯ä»¥ç­”ä¸Šæ¥ã€‚</p><ol><li>èƒ½è¯´è¯´è·¨åŸŸå—ï¼Ÿ</li><li>èƒ½è¯´è¯´åŒæºç­–ç•¥å—ï¼Ÿ</li><li>ä¸ºä»€ä¹ˆè¦åŒæºç­–ç•¥ï¼Œå®ƒé™åˆ¶äº†ä»€ä¹ˆï¼Ÿ</li><li>ä½ çŸ¥é“å“ªäº›è·¨åŸŸæ–¹æ¡ˆå‘¢ï¼Ÿ</li><li>æœ‰å…³cookieçš„è·¨åŸŸæ€ä¹ˆå®ç°ï¼Ÿ</li><li>èƒ½å…·ä½“è¯´è¯´JSONPå—ï¼Ÿè¿”å›ä»€ä¹ˆæ•°æ®å‘¢ï¼Œå‰ç«¯æ€ä¹ˆå¤„ç†å‘¢ï¼ŸçŸ¥é“ä»€ä¹ˆåŸç†å—ï¼Ÿå®ç°è¿‡å—ï¼ŸJSONPæœåŠ¡å™¨ç«¯å®ç°è¿‡å—ï¼Ÿ</li><li>postMessage äº†è§£å—ï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿï¼ˆå®‰å…¨æ–¹é¢ï¼‰</li><li>ä»£ç†äº†è§£è¿‡å—ï¼Ÿç”¨è¿‡å“ªäº›ä»£ç†æ–¹æ¡ˆå‘¢ä¸ï¼Ÿæ€ä¹ˆåœ¨é¡¹ç›®ä¸­ç”¨å‘¢ï¼Ÿ</li><li>corså¯ä»¥å…·ä½“è¯´ä¸€ä¸ªç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚å—ï¼Ÿå…·ä½“è¿‡ç¨‹è¯´ä¸€ä¸‹ï¼Ÿé¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨ï¼Ÿ</li></ol><p>æ–‡ç« å¯èƒ½æœ‰äº›åœ°æ–¹å†™çš„ä¸å½“å’Œä¸å…¨çš„åœ°æ–¹ï¼Œæ¬¢è¿è¯„è®ºåŒºç»™æˆ‘å»ºè®®ï¼Œæ„Ÿè°¢~~ ğŸ¤ğŸ¤ğŸ¤ ä¹Ÿå¸Œæœ›é‡Œé¢çš„çŸ¥è¯†ç‚¹æœ‰å“ªé‡Œä¸æ¸…æ¥šçš„ï¼Œä½ å¯ä»¥è‡ªå·±å¯ä»¥èŠ±æ—¶é—´å»æ•´æ˜ç™½æ›´å¥½ï¼ŒåŠ æ²¹å‘€ğŸ˜Š è¿™æ¬¡å°±ä¸æ”¾å¯¼å›¾å•¦ï¼Œå³è¾¹ç›®å½•å¾ˆæ¸…æ¥š~~</p><h2 id="_1ã€è®²ä¸€ä¸‹è·¨åŸŸæ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_1ã€è®²ä¸€ä¸‹è·¨åŸŸæ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> 1ã€è®²ä¸€ä¸‹è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è€…è„šæœ¬å’Œæ¥è‡ªå¦ä¸€ä¸ªæºçš„æ–‡æ¡£å’Œè„šæœ¬ç­‰èµ„æºè¿›è¡Œäº¤äº’ï¼ˆä¹Ÿå°±æ˜¯ä¸æ»¡è¶³åŒæºç­–ç•¥çš„ä¸¤ä¸ªæºä¹‹é—´è¿›è¡Œä¸€äº›äº¤äº’ï¼‰ï¼Œå°±æ˜¯è·¨åŸŸã€‚ æ‰€ä»¥ä½ éœ€è¦æ¸…æ¥šçš„æ˜¯åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸ºä»€ä¹ˆå‡ºç°ï¼Ÿå®ƒåˆé™åˆ¶äº†ä»€ä¹ˆï¼Ÿ å¾€ä¸‹çœ‹å§ï¼š</p><h2 id="_2ã€åŒæºç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_2ã€åŒæºç­–ç•¥" aria-hidden="true">#</a> 2ã€åŒæºç­–ç•¥</h2><h3 id="_2-1ã€-åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_2-1ã€-åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> 2.1ã€ åŒæºç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>æ‰€è°“&quot;åŒæº&quot;æŒ‡çš„æ˜¯&quot;ä¸‰ä¸ªç›¸åŒ&quot;ã€‚</p><ul><li>åè®®ç›¸åŒ</li><li>åŸŸåç›¸åŒ</li><li>ç«¯å£ç›¸åŒ</li></ul><p>ä¸¾ä¸ªæ —å­: <code>[http://www.jingda.com/dir/page.html](http://www.jingda.com/dir/page.html)</code>è¿™ä¸ªç½‘å€ï¼Œåè®®æ˜¯<code>http://</code>ï¼ŒåŸŸåæ˜¯<code>www.jingda.com</code>ï¼Œç«¯å£æ˜¯80ï¼ˆé»˜è®¤ç«¯å£å¯ä»¥çœç•¥ï¼‰ã€‚æ¥çœ‹çœ‹ä¸‹é¢æ”¹ç¼–çš„å“ªäº›æ˜¯åŒæºå“ªäº›æ˜¯ä¸åŒæºï¼š</p><ul><li><code>[http://www.jingda.com/dir2/other.html](http://www.jingda.com/dir2/other.html)</code>ï¼šåŒæº</li><li><code>[http://jingda1.com/dir/other.html](http://jingda1.com/dir/other.html)</code>ï¼šä¸åŒæºï¼ˆåŸŸåä¸åŒï¼‰</li><li><code>[http://v2.www.jingda.com/dir/other.html](http://v2.www.jingda.com/dir/other.html)</code>ï¼šä¸åŒæºï¼ˆåŸŸåä¸åŒï¼‰</li><li><code>[http://www.jingda.com:81/dir/other.html](http://www.jingda.com:81/dir/other.html)</code>ï¼šä¸åŒæºï¼ˆç«¯å£ä¸åŒï¼‰</li><li><code>[https://www.jingda.com/dir/page.html](https://www.jingda.com/dir/page.html)</code>ï¼šä¸åŒæºï¼ˆåè®®ä¸åŒï¼‰</li></ul><h3 id="_2-2ã€-ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_2-2ã€-ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥" aria-hidden="true">#</a> 2.2ã€ ä¸ºä»€ä¹ˆéœ€è¦åŒæºç­–ç•¥ï¼Ÿ</h3><p>åŒæºæ”¿ç­–çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„çš„ç½‘ç«™çªƒå–æ•°æ®ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ã€‚ å‡è®¾å°æ˜åŒå­¦åœ¨Aé“¶è¡Œçš„å®˜ç½‘è¿›è¡Œäº†ç™»å½•ï¼Œä¹‹åä»–åˆå»æµè§ˆäº†å…¶ä»–ç½‘ç«™ï¼Œå¦‚æœå…¶ä»–ç½‘ç«™å¯ä»¥è¯»å–Aé“¶è¡Œå®˜ç½‘çš„cookieï¼Œé‚£ä¹ˆå°æ˜åœ¨Aé“¶è¡Œçš„ç™»å½•ä¿¡æ¯å’Œå…¶ä»–å­˜æ¬¾è®°å½•ç­‰éƒ½ä¼šè¢«æ³„éœ²ï¼Œå°†æ˜¯ä¸€ä»¶éå¸¸å±é™©çš„æƒ…å†µã€‚ è€Œcookieçš„è®¿é—®é™åˆ¶åªæ˜¯åŒæºç­–ç•¥é™åˆ¶çš„ä¸€ç§æƒ…å†µï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹å…¶ä»–çš„ã€‚</p><h3 id="_2-3ã€-åŒæºç­–ç•¥å¸¦æ¥äº†ä»€ä¹ˆè®¿é—®é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#_2-3ã€-åŒæºç­–ç•¥å¸¦æ¥äº†ä»€ä¹ˆè®¿é—®é™åˆ¶" aria-hidden="true">#</a> 2.3ã€ åŒæºç­–ç•¥å¸¦æ¥äº†ä»€ä¹ˆè®¿é—®é™åˆ¶ï¼Ÿ</h3><ul><li>è·¨æºæ•°æ®å­˜å‚¨è®¿é—®ï¼šè®¿é—®å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­çš„æ•°æ®ï¼Œå¦‚ localStorage å’Œ IndexedDBï¼Œæ˜¯ä»¥æºè¿›è¡Œåˆ†å‰²ï¼›Cookies ä½¿ç”¨ä¸åŒçš„æºå®šä¹‰æ–¹å¼ã€‚æ¯ä¸ªæºéƒ½æ‹¥æœ‰è‡ªå·±å•ç‹¬çš„å­˜å‚¨ç©ºé—´ï¼Œä¸€ä¸ªæºä¸­çš„ JavaScript è„šæœ¬ä¸èƒ½å¯¹å±äºå…¶å®ƒæºçš„æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚</li><li>è·¨æºè„šæœ¬APIè®¿é—®ï¼šJavaScript çš„ API ä¸­ï¼Œå¦‚ iframe.contentWindowã€ window.parentã€window.open å’Œ window.opener å…è®¸æ–‡æ¡£é—´ç›´æ¥ç›¸äº’å¼•ç”¨ã€‚å½“ä¸¤ä¸ªæ–‡æ¡£çš„æºä¸åŒæ—¶ï¼Œè¿™äº›å¼•ç”¨æ–¹å¼å°†å¯¹ Window å’Œ Locationå¯¹è±¡çš„è®¿é—®æ·»åŠ é™åˆ¶ï¼Œ</li><li>è·¨æºç½‘ç»œè®¿é—®ï¼šåŒæºç­–ç•¥æ§åˆ¶ä¸åŒæºä¹‹é—´çš„äº¤äº’ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨XMLHttpRequest æˆ– æ ‡ç­¾æ—¶åˆ™ä¼šå—åˆ°åŒæºç­–ç•¥çš„çº¦æŸã€‚</li></ul><h2 id="_3ã€è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3ã€è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ³•" aria-hidden="true">#</a> 3ã€è§£å†³è·¨åŸŸçš„å‡ ç§æ–¹æ³•ï¼Ÿ</h2><p>å°†ä¸Šé¢ä¸‰ç§è®¿é—®é™åˆ¶ç®€åŒ–æˆä¸‹é¢çš„ä¸‰ç§è¡¨è¾¾ï¼š ï¼ˆ1ï¼‰ Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–ã€‚ ï¼ˆ2ï¼‰ JavaScript çš„ API ä¸­çš„ä¸€äº›å¼•ç”¨ï¼Œæ— æ³•è·å¾—ã€‚ï¼ˆè¯¦è§ä¸Šï¼‰ ï¼ˆ3ï¼‰ AJAX è¯·æ±‚ä¸èƒ½å‘é€ã€‚ï¼ˆä¹Ÿå°±æ˜¯æ— æ³•ä½¿ç”¨XMLHttpRequestï¼‰ ï¼ˆå› ä¸ºåœ¨ç½‘ä¸Šæœ‰å…³è·¨åŸŸçš„è§£å†³æ–¹æ¡ˆï¼Œå¯èƒ½æ˜¯æ¯”è¾ƒå¤šï¼Œä½†è¿™é‡Œæˆ‘æ˜¯æ ¹æ®ä¸Šé¢ä¸‰ç§é™åˆ¶ä¾æ¬¡ä»‹ç»ä¸€ä¸‹å¯èƒ½è¡Œå¾—é€šçš„è§£å†³æ–¹æ¡ˆï¼‰</p><h3 id="_3-1ã€-cookie-document-domain" tabindex="-1"><a class="header-anchor" href="#_3-1ã€-cookie-document-domain" aria-hidden="true">#</a> 3.1ã€ cookie -- document.domain</h3><p>å½“æˆ‘ä»¬å°è¯•è§£å†³å› åŒæºç­–ç•¥ä¸‹ï¼Œæ— æ³•è®¿é—®cookieè¿™ç§æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ï¼š</p><ul><li>1ã€<code>æµè§ˆå™¨å…è®¸é€šè¿‡è®¾ç½®document.domainå…±äº« Cookieã€‚</code>æ¥è¾¾æˆæ•ˆæœã€‚ä½†æ˜¯ï¼Œ<code>ä¸¤ä¸ªç½‘é¡µä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯äºŒçº§åŸŸåä¸åŒ</code>æ‰å¯ä»¥è®¾ç½®ï¼Œé‚£ä»€ä¹ˆæ˜¯ä¸€çº§åŸŸåï¼Œä»€ä¹ˆæ˜¯äºŒçº§åŸŸåå‘¢ï¼Ÿ</li></ul><p>ä¸¾ä¸ªæ —å­ï¼š Aç½‘é¡µï¼š<code>[http://w1.jingda.com/a.html](http://w1.jingda.com/a.html)</code>åœ¨è¿™ä¸ªç½‘é¡µåœ°å€ä¸­ï¼Œ<code>w1.jingda.com</code>è¿™éƒ¨åˆ†ç»Ÿç§°ä¸ºåŸŸåï¼Œ</p><ul><li>ä¸€çº§åŸŸåæ˜¯ç”±ä¸€ä¸ªåˆæ³•çš„å­—ç¬¦ä¸²+åŸŸååç¼€ç»„æˆï¼Œæ‰€ä»¥ï¼Œjingda.comè¿™ç§å½¢å¼çš„åŸŸåæ‰æ˜¯ä¸€çº§åŸŸåï¼Œjingdaæ˜¯åŸŸåä¸»ä½“ï¼Œ.comã€.netä¹Ÿæ˜¯åŸŸååç¼€ã€‚</li><li>äºŒçº§åŸŸåå®é™…å°±æ˜¯ä¸€çº§åŸŸåä¸‹é¢çš„ä¸»æœºåï¼Œé¡¾åæ€ä¹‰ï¼Œ<code>å®ƒæ˜¯åœ¨ä¸€çº§åŸŸåå‰é¢åŠ ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²</code>ï¼Œæ¯”å¦‚w1.jingda.comï¼Œ</li></ul><p>è§£é‡Šå®Œæ€æ ·çš„æƒ…å†µå¯ä»¥è®¾ç½®document.domainå…±äº« Cookieï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªå¦‚ä½•æ“ä½œï¼š å‡è®¾æœ‰ä¸¤ä¸ªç½‘é¡µåœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬çš„ä¸€çº§åŸŸåæ˜¯ç›¸åŒçš„ï¼ŒäºŒçº§åŸŸåçš„ä¸åŒçš„ï¼š Aç½‘é¡µï¼š<code>[http://w1.jingda.com/a.html](http://w1.jingda.com/a.html)</code> Bç½‘é¡µï¼š<code>[http://w2.jingda.com/b.html](http://w2.jingda.com/b.html)</code> é‚£ä¹ˆåªè¦è®¾ç½®ç›¸åŒçš„document.domainï¼Œä¸¤ä¸ªç½‘é¡µå°±å¯ä»¥å…±äº«Cookieã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>document.domain = &#39;example.com&#39;;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Aç½‘é¡µé€šè¿‡è„šæœ¬è®¾ç½®ä¸€ä¸ª Cookieã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>document.cookie = &quot;test1=hello&quot;;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Bç½‘é¡µå°±å¯ä»¥è¯»åˆ°è¿™ä¸ª Cookieã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var allCookie = document.cookie;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2ã€æœåŠ¡å™¨ä¹Ÿå¯ä»¥åœ¨è®¾ç½®Cookieçš„æ—¶å€™ï¼ŒæŒ‡å®šCookieçš„æ‰€å±åŸŸåä¸ºä¸€çº§åŸŸåï¼Œæ¯”å¦‚.example.comã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Set-Cookie: key=value; domain=.example.com; path=/\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™æ ·çš„è¯ï¼ŒäºŒçº§åŸŸåå’Œä¸‰çº§åŸŸåä¸ç”¨åšä»»ä½•è®¾ç½®ï¼Œéƒ½å¯ä»¥è¯»å–è¿™ä¸ªCookieã€‚ è¿™é‡Œçš„è¯ï¼Œè¡¥å……ä¸€ä¸‹è®¾ç½®cookieçš„æ—¶å€™ï¼Œä¸€äº›å…¶ä»–çš„è®¾ç½®æ¥é™å®šå…¶å¯è®¿é—®æ€§ï¼š</p><ol><li>Domain å’Œ Path æ ‡è¯†å®šä¹‰äº†Cookieçš„ä½œç”¨åŸŸï¼šå³å…è®¸ Cookie åº”è¯¥å‘é€ç»™å“ªäº›URLã€‚</li><li>Secureï¼šSecureå±æ€§æ˜¯è¯´å¦‚æœä¸€ä¸ªcookieè¢«è®¾ç½®äº†Secure=trueï¼Œé‚£ä¹ˆè¿™ä¸ªcookieåªèƒ½ç”¨httpsåè®®å‘é€ç»™æœåŠ¡å™¨ï¼Œç”¨httpåè®®æ˜¯ä¸å‘é€çš„ã€‚</li><li>HttpOnly ï¼šä½¿ç”¨ HttpOnly å±æ€§å¯é˜²æ­¢é€šè¿‡ JavaScript è®¿é—® cookie å€¼</li><li>SameSite Cookie å…è®¸æœåŠ¡å™¨è¦æ±‚æŸä¸ª cookie åœ¨è·¨ç«™è¯·æ±‚æ—¶ä¸ä¼šè¢«å‘é€ï¼Œä»è€Œå¯ä»¥é˜»æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼ˆCSRFï¼‰ã€‚</li></ol><p>ä½ åº”è¯¥æ³¨æ„åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬åªæ˜¯å•å•è§£å†³äº†åœ¨æœ‰ä¸€äº›é™åˆ¶æ¡ä»¶ä¸‹çš„<code>è®¿é—®cookie</code>çš„é™åˆ¶ã€‚ä½†æ˜¯ä¸Šé¢è¿˜æåˆ°çš„<code>LocalStorage å’Œ IndexDB</code>æš‚æ—¶è¿˜æ²¡æœ‰è§£å†³ã€‚(ç­‰ä¸‹å†è¯´)</p><h3 id="_3-2ã€-apiè®¿é—®-window-postmessage" tabindex="-1"><a class="header-anchor" href="#_3-2ã€-apiè®¿é—®-window-postmessage" aria-hidden="true">#</a> 3.2ã€ APIè®¿é—® -- window.postMessage</h3><p>postMessageæ˜¯html5æ–°å¢çš„ä¸€ä¸ªè§£å†³è·¨åŸŸçš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ºäº†èƒ½è®©ä¸åŒæºä¸­æ–‡æ¡£è¿›è¡Œäº¤æµï¼Œå¯ä»¥ä½¿ç”¨ window.postMessageå®‰å…¨åœ°å®ç°è·¨æºé€šä¿¡ã€‚ï¼ˆå®‰å…¨æ˜¯æŒ‡åœ¨æ­£ç¡®çš„ä½¿ç”¨æƒ…å†µä¸‹ï¼‰ï¼Œè¿™</p><h4 id="_3-2-1ã€window-postmessageçš„ä½¿ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_3-2-1ã€window-postmessageçš„ä½¿ç”¨åœºæ™¯" aria-hidden="true">#</a> 3.2.1ã€window.postMessageçš„ä½¿ç”¨åœºæ™¯ï¼Ÿ</h4>',38),i=(0,s.Uk)("ä¸ªæˆ‘è‡ªå·±ä¹Ÿæ˜¯æ²¡æœ‰ç”¨è¿‡çš„ã€‚ä½¿ç”¨æ–¹æ³•å¤§å®¶å¯ä»¥å‚è€ƒè¿™ç¯‡"),t={href:"https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_40650646%2Farticle%2Fdetails%2F81777398%3Futm_medium%3Ddistribute.pc_relevant.none-task-blog-2%257Edefault%257EBlogCommendFromBaidu%257Edefault-7.control%26dist_request_id%3D1328769.70653.16176908362791735%26depth_1-utm_source%3Ddistribute.pc_relevant.none-task-blog-2%257Edefault%257EBlogCommendFromBaidu%257Edefault-7.control",target:"_blank",rel:"noopener noreferrer"},r=(0,s.Uk)("window.postMessageç”¨æ³•"),p=(0,s.Uk)("ä¸€ä¸ªæ¯”è¾ƒå°çš„æ¡ˆä¾‹ å› ä¸ºæ˜¯ä¸¤ä¸ªçª—å£é¡µé¢ä¹‹é—´çš„é€šä¿¡ï¼Œå› æ­¤æˆ‘ä»¬è¿™è¾¹å‡è®¾æˆ‘ä¸¤ä¸ªé¡µé¢ï¼ŒA,Bï¼Œç›®çš„æ˜¯åœ¨Bçª—å£ä¸­ç‚¹å‡»postMessageæŒ‰é’®ï¼Œèƒ½å¤Ÿåœ¨Aé¡µé¢æ”¶åˆ°å‘æ¥çš„æ¶ˆæ¯ã€‚ Aé¡µé¢ï¼š"),o=(0,s.uE)('<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;\n  function test() {\n    let op = window.open(&#39;b.html&#39;, &#39;_blank&#39;); \n    function receiveMessage(event) {\n      console.log(&#39;event&#39;, event);\n    }\n    op.addEventListener(&quot;message&quot;, receiveMessage, false); \n  }\n&lt;/script&gt;\n&lt;body&gt;\n  &lt;div&gt;\n    &lt;button onClick=&quot;test()&quot;&gt;open&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Bé¡µé¢ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;\n  function post() {\n    window.postMessage(&quot;hi there!&quot;, location.origin);\n  }\n  function receiveMessage(event) {\n    console.log(&#39;event&#39;, event)\n  }\n  window.addEventListener(&quot;message&quot;, receiveMessage, false);\n&lt;/script&gt;\n&lt;body&gt;\n  &lt;div&gt;\n    &lt;button onClick=&quot;post()&quot;&gt;postMessage&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>æˆ‘å°±ç›´æ¥è¯´ä¸€ä¸‹å¤§æ¦‚çš„æ€è·¯äº†ï¼š é¦–å…ˆçœ‹çœ‹Bé¡µé¢ï¼š</p><ol><li>åœ¨Bé¡µé¢æœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®ä¼šè§¦å‘ä¸€ä¸ªæ–¹æ³•ï¼Œpost()</li><li>åœ¨post()æ–¹æ³•ä¸­ï¼Œwindow.postMessage(&quot;hi there!&quot;, location.origin)ï¼Œå‘é€åˆ°æ‰€æœ‰åŒæºçš„çª—å£ï¼Œæ³¨æ„ï¼Œå½“å‰çª—å£ä¹Ÿä¼šæ”¶åˆ°</li><li>ä¹‹åé€šè¿‡ window.addEventListener(&quot;message&quot;, receiveMessage, false)å»ç›‘å¬ï¼Œå¦‚æœæœ‰æ•°æ®ï¼Œå°±æ‰§è¡ŒreceiveMessage(),æŠŠæ•°æ®æ‰“å°å‡ºæ¥</li></ol><p>å†æ¥çœ‹Aé¡µé¢ï¼š</p><ol><li>åœ¨Aé¡µé¢ä¹Ÿæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œå½“ç‚¹å‡»è¿™ä¸ªæŒ‰é’®æ—¶è§¦å‘test()</li><li>æ‰“å¼€æ–°çª—å£ï¼Œå¹¶å»ºç«‹çª—å£çš„å¼•ç”¨å˜é‡op = window.open(&#39;B.html&#39;, &#39;_blank&#39;);</li><li>op.addEventListener(&quot;message&quot;, receiveMessage, false); ç›‘å¬æ–°å¼€çª—å£å‘æ¥çš„æ¶ˆæ¯,é€šè¿‡ receiveMessage() æŠŠæ•°æ®æ‰“å°å‡ºæ¥</li></ol><h4 id="_3-2-2ã€å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨-ä»¥ä¿è¯å®‰å…¨æ€§" tabindex="-1"><a class="header-anchor" href="#_3-2-2ã€å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨-ä»¥ä¿è¯å®‰å…¨æ€§" aria-hidden="true">#</a> 3.2.2ã€å¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨ï¼Œä»¥ä¿è¯å®‰å…¨æ€§ï¼Ÿ</h4><ol><li>å§‹ç»ˆä½¿ç”¨originå’Œsourceå±æ€§éªŒè¯å‘ä»¶äººçš„èº«ä»½,æ²¡æœ‰éªŒè¯originå’Œsourceå±æ€§ä¼šå¯¼è‡´è·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ã€‚</li><li>å½“ä½¿ç”¨postMessageå°†æ•°æ®å‘é€åˆ°å…¶ä»–çª—å£æ—¶ï¼ŒæŒ‡å®šç²¾ç¡®çš„ç›®æ ‡originï¼Œè€Œä¸æ˜¯*</li></ol><h3 id="_3-3ã€jsonp" tabindex="-1"><a class="header-anchor" href="#_3-3ã€jsonp" aria-hidden="true">#</a> 3.3ã€JSONP</h3><blockquote><p>JSONP(JSON with Padding)æ˜¯JSONçš„ä¸€ç§â€œä½¿ç”¨æ¨¡å¼â€ï¼Œå¯ç”¨äºè§£å†³ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸæ•°æ®è®¿é—®çš„é—®é¢˜ã€‚</p></blockquote><h4 id="_3-3-1ã€jsonpçš„ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_3-3-1ã€jsonpçš„ä»‹ç»" aria-hidden="true">#</a> 3.3.1ã€JSONPçš„ä»‹ç»</h4><p>JSONP æ˜¯é€šè¿‡åœ¨<code>&lt;script&gt;&lt;/srcipt&gt;</code>æ ‡ç­¾é‡Œï¼Œé€šè¿‡srcï¼Œimgï¼Œhref å±æ€§çš„è·¨åŸŸæ–¹å¼å‘ä¸€ä¸ªä¸åŒæºçš„ç½‘ç«™åœ°å€å‘é€httpè¯·æ±‚ï¼Œå¹¶ä¸”ä½¿å¾—jsonæ•°æ®å¯ä»¥åœ¨javascriptä»£ç ä¸­èƒ½å¤Ÿä½¿ç”¨ã€‚ å®ƒè§„é¿äº†javascriptä»£ç ä¸­çš„è·¨æºç½‘ç»œè®¿é—®ï¼Œä¹Ÿå°±æ˜¯æ— æ³•ä½¿ç”¨XMLHttpRequestï¼Œfetchè¢«åŒæºæœºåˆ¶ç®¡åˆ°äº†ï¼ˆå¦‚æœä¸åŒæºçš„è¯ï¼‰ã€‚ æå‰å‡†å¤‡ä¸€ä¸ªæ¥å£ï¼š<code>[https://photo.sina.cn/aj/index?page=1&amp;cate=recommend](https://photo.sina.cn/aj/index?page=1&amp;cate=recommend)</code>ç›´æ¥ç½‘é¡µä¸­æ‰“å¼€ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šæ•°æ®çš„ï¼Œå¦‚ä¸‹å›¾ï¼š <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525368-cddc3ff7-c4ae-43dd-9454-362c23db8c51.png#align=left&amp;display=inline&amp;height=338&amp;margin=[object Object]&amp;originHeight=338&amp;originWidth=738&amp;size=0&amp;status=done&amp;style=none&amp;width=738" alt=""> è®©æˆ‘ä»¬å°è¯•åœ¨æœ¬åœ°è¯·æ±‚ä¸€ä¸‹è¿™ä¸ªåœ°å€ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‹¿åˆ°æ•°æ®ï¼šå› ä¸ºåŒæ–¹åœ°å€å¹¶ä¸æ˜¯åŒæºçš„ï¼Œå› æ­¤è¿™æ ·è¯·æ±‚ä¼šæŠ¥è·¨åŸŸçš„é”™ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;body&gt;\n   &lt;script&gt;\n        fetch(&#39;https://photo.sina.cn/aj/index?page=1&amp;cate=recommend&#39;)\n            .then(data=&gt;{\n                console.log(data);\n                \n            })\n    &lt;/script&gt;\n&lt;/body&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>é€šè¿‡ live-serveræ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°æŠ¥é”™äº†ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ä¸€ä¸ªè·¨åŸŸçš„è¯·æ±‚ï¼š <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525536-5b038751-0566-4344-8aa9-4a18e20c5b0d.png#align=left&amp;display=inline&amp;height=176&amp;margin=[object Object]&amp;originHeight=176&amp;originWidth=661&amp;size=0&amp;status=done&amp;style=none&amp;width=661" alt=""> æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹JSONPå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><h4 id="_3-3-2ã€jsonp-å¦‚ä½•ä½¿ç”¨-åŸç†æ˜¯ä»€ä¹ˆ-è¿”å›æ•°æ®æ ¼å¼-å‰ç«¯æ€ä¹ˆå¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-3-2ã€jsonp-å¦‚ä½•ä½¿ç”¨-åŸç†æ˜¯ä»€ä¹ˆ-è¿”å›æ•°æ®æ ¼å¼-å‰ç«¯æ€ä¹ˆå¤„ç†" aria-hidden="true">#</a> 3.3.2ã€jsonp å¦‚ä½•ä½¿ç”¨ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿè¿”å›æ•°æ®æ ¼å¼ï¼Ÿå‰ç«¯æ€ä¹ˆå¤„ç†ï¼Ÿ</h4><p>è¿˜æ˜¯è¯·æ±‚ä¸Šé¢çš„è¿™ä¸ªç½‘ç«™åœ°å€ï¼Œæˆ‘ä»¬æŠŠä»£ç æ”¹æˆä¸‹é¢è¿™æ ·ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;body&gt;\n  &lt;script&gt;\n    function callback(data){\n        console.log(data);\n    }\n&lt;/script&gt;\n&lt;script src=&quot;https://photo.sina.cn/aj/index?page=1&amp;cate=recommend&amp;callback=callback&quot;&gt;&lt;/script&gt;  \n&lt;/body&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>å†æ¥çœ‹çœ‹é¡µé¢æ§åˆ¶å°è¾“å‡ºï¼š <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525347-2c00c41b-f2cb-400b-8f93-943033df2258.png#align=left&amp;display=inline&amp;height=164&amp;margin=[object Object]&amp;originHeight=164&amp;originWidth=435&amp;size=0&amp;status=done&amp;style=none&amp;width=435" alt=""> dataæˆåŠŸå–åˆ°äº†ã€‚ä½†æ˜¯æˆ‘ä»¬çš„æ•°æ®åˆ°è¾¾ä¹‹åæ˜¯jsonæ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œscriptæ ‡ç­¾æ˜¯ä¸€ä¸ªåŠ è½½èµ„æºçš„æ ‡ç­¾ï¼Œå®ƒå¹¶ä¸èƒ½ç›´æ¥è¿è¡Œè¿™ä¸ªä»£ç ã€‚ äº‹å®ä¸Šæˆ‘ä»¬æ˜¯åœ¨è®¿é—®çš„æ—¶å€™ï¼Œåœ¨è¯·æ±‚çš„åœ°å€åé¢åŠ ä¸Šä¸€ä¸ªï¼Œ<code>&amp;callback=callback</code>ï¼Œé€šçŸ¥æœåŠ¡å™¨ï¼Œæœ¬åœ°æƒ³è¿›è¡Œä¸€ä¸ªè·¨èµ„æºè®¿é—®ï¼ˆä»¥JSOPçš„å½¢å¼è¿›è¡Œè·¨åŸŸï¼‰ã€‚ç­‰å·åé¢çš„<code>callback</code>æ˜¯ä¸€ä¸ªä½ è‡ªå·±å®šä¹‰çš„å‡½æ•°ï¼Œåå­—å¯è‡ªå–ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ï¼Œé€šçŸ¥æˆ‘éœ€è¦è¯·æ±‚çš„åœ°å€ï¼Œè¿™è¾¹é¡µé¢ä¸Šæˆ‘æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šç­‰å¾…è°ƒç”¨ï¼Œç”¨æ¥æ‰§è¡Œä½ å‘è¿‡æ¥çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯å¯ä»¥å»æ‰§è¡ŒæŠŠæ•°æ®è¯·æ±‚ä¸‹æ¥çš„æ“ä½œï¼‰ã€‚ å› æ­¤åœ¨æ•°æ®åˆ°è¾¾ä¹‹åï¼Œè¿˜åŒ…äº†ä¸€å±‚å‡½æ•° <code>callback({data})</code>ï¼Œå½“æ•°æ®é€šè¿‡scriptæ ‡ç­¾è¯·æ±‚ä¸‹æ¥ä¹‹åï¼Œå†é€šè¿‡<code>callback</code>å®ç°äº†ä¸€ä¸ªè°ƒç”¨æœ¬åœ°èµ„æºçš„èƒ½åŠ›ã€‚ <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525344-33e331c3-8492-4f88-ae69-3b4b0cc40788.png#align=left&amp;display=inline&amp;height=299&amp;margin=[object Object]&amp;originHeight=299&amp;originWidth=918&amp;size=0&amp;status=done&amp;style=none&amp;width=918" alt=""> æœ€åå†ç†ä¸€ä¸‹è¿™éƒ¨åˆ†çš„å†…å®¹ï¼š</p><ul><li>JSONPçš„åŸç†</li></ul><p>scriptæ ‡ç­¾è¯·æ±‚æ•°æ®ï¼Œåœ¨è¯·æ±‚çš„åœ°å€åé¢åŠ ä¸Šä¸€ä¸ªï¼Œ<code>&amp;callback=callback</code>ï¼Œè¯·æ±‚çš„æœåŠ¡å™¨å°±åœ¨jsonæ•°æ®å¤–é¢åŒ…ä¸€å±‚callbackå‡½æ•°ï¼Œå½“è¿™ä¸ªå¸¦æœ‰æ•°æ®çš„callbackå‡½æ•°å¯ä»¥åœ¨scriptå¾—åˆ°ä¹‹åå¯ä»¥è¿è¡Œçš„å‡½æ•°ï¼š <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525514-3373e359-bea5-4f9e-bd8b-e21fa3f0d033.png#align=left&amp;display=inline&amp;height=214&amp;margin=[object Object]&amp;originHeight=214&amp;originWidth=1204&amp;size=0&amp;status=done&amp;style=none&amp;width=1204" alt=""></p><ul><li>è¿”å›çš„æ•°æ®æ ¼å¼</li></ul><p>JSON</p><ul><li>ä»¥åŠå‰ç«¯å¦‚ä½•å¤„ç†çš„</li></ul><p>JSON with padding --- <code>callback({data})</code></p><h4 id="_3-3-3ã€è‡ªå·±å°è£…ä¸€ä¸ªjsonp" tabindex="-1"><a class="header-anchor" href="#_3-3-3ã€è‡ªå·±å°è£…ä¸€ä¸ªjsonp" aria-hidden="true">#</a> 3.3.3ã€è‡ªå·±å°è£…ä¸€ä¸ªjsonpï¼Ÿ</h4><ol><li>å‡†å¤‡å·¥ä½œ</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;\n    let jsonp = () =&gt; {\n    }\n    jsonp(&#39;https://photo.sina.cn/aj/index&#39;, {\n      page: 1,\n      cate: &#39;recommend&#39;\n    })\n    .then(response =&gt; {\n      console.log(response,&#39;è°ƒç”¨æˆåŠŸå•¦&#39;);\n    })\n  &lt;/script&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="2"><li>å…·ä½“å®ç°æµç¨‹</li></ol><ul><li>ç¡®å®šä¼ é€’å‚æ•°ï¼š url ã€æºå¸¦çš„å‚æ•° ã€callback;</li><li>å¤„ç†urlä¸Šçš„å‚æ•°ï¼ˆï¼Ÿåé¢çš„ï¼‰;</li><li>å‡†å¤‡å¥½urlï¼ˆæºå¸¦callbackå‡½æ•°ï¼‰;</li><li>æ„å»ºscriptæ ‡ç­¾;</li><li>æŠŠè¿™ä¸ªæ ‡ç­¾æŒ‚åˆ°windowä¸Š</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script&gt;\n    // 1ã€ç¡®å®šå¥½å‚æ•°\n    let jsonp = (url,data = {},callback = &#39;callback&#39;) =&gt; {\n    // 2ã€å¤„ç†å¥½urlé‡Œé¢çš„å‚æ•°\n      let dataStr = url.indexOf(&#39;?&#39;) === -1 ? &#39;?&#39;:&#39;&amp;&#39;\n    // 3ã€æŠŠå‚æ•°å’Œ&amp;æ‹¼æ¥ä¸Šå»\n      for (let key in data) {\n        dataStr += `${key}=${data[key]}&amp;`;\n      }\n    // 4ã€æŠŠcallbackæ‹¼æ¥ä¸Š\n      dataStr += &#39;callback=&#39; + callback;\n    // 5ã€åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾\n      let oScript = document.createElement(&#39;script&#39;);\n      oScript.src = url + dataStr;\n      document.body.appendChild(oScript);\n     // 6ã€æŠŠscriptæ ‡ç­¾æŒ‚è½½åˆ°windowä¸Šå»\n    //æ–¹æ¡ˆä¸€ã€\n      // window[callback] = (data) =&gt; {\n      //   console.log(data);\n      // }\n    // æ–¹æ¡ˆäºŒã€\n      return new Promise((reslove,reject) =&gt; {\n        window[callback] = (data) =&gt; {\n          try {\n            reslove(data)\n          } catch(e) {\n            reject(e)\n          } finally {\n            oScript.parentNode.removeChild(oScript);\n            //åˆ é™¤è¿™ä¸ªscriptèŠ‚ç‚¹\n          }\n        }\n      })\n    }\n    //è°ƒç”¨jsonpæ–¹æ³•\n    jsonp(&#39;https://photo.sina.cn/aj/index?a=1&#39;, {\n      page: 1,\n      cate: &#39;recommend&#39;\n    })\n    .then(response =&gt; {\n      console.log(response,&#39;è°ƒç”¨æˆåŠŸå•¦&#39;);\n    })\n  &lt;/script&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h4 id="_3-3-4ã€å®ç°ä¸€ä¸ªjsonpæœåŠ¡å™¨ç«¯-nodeç‰ˆæœ¬-expressç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#_3-3-4ã€å®ç°ä¸€ä¸ªjsonpæœåŠ¡å™¨ç«¯-nodeç‰ˆæœ¬-expressç‰ˆæœ¬" aria-hidden="true">#</a> 3.3.4ã€å®ç°ä¸€ä¸ªjsonpæœåŠ¡å™¨ç«¯ï¼Ÿï¼ˆnodeç‰ˆæœ¬ï¼Œexpressç‰ˆæœ¬ï¼‰</h4><h4 id="nodeç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#nodeç‰ˆæœ¬" aria-hidden="true">#</a> nodeç‰ˆæœ¬</h4><p>åˆ›å»ºä¸€ä¸ªç»“æ„å¦‚ä¸‹çš„æœåŠ¡å™¨ç«¯æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°†åœ¨index.jsä¸­å®ç°æˆ‘ä»¬çš„JSONPï¼š<img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525593-f5432324-2aea-48c2-88df-e3c05964cd98.png#align=left&amp;display=inline&amp;height=203&amp;margin=[object Object]&amp;originHeight=203&amp;originWidth=373&amp;size=0&amp;status=done&amp;style=none&amp;width=373" alt=""></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var http = require(&#39;http&#39;);\nhttp.createServer(function(req, res){\n// req url  callback=?\nconsole.log(req.url);\nlet data = {a: 1};\nres.writeHead(200, {&#39;Content-type&#39; : &#39;text/json&#39;})\n  const reg = /callback=([\\w]+)/\n  if (reg.test(req.url)) {\n    let padding = RegExp.$1\n    res.end(`${padding}(${JSON.stringify(data)})`)\n  } else {\n    res.end(JSON.stringify(data));\n  }\n//  res.end(&#39;&lt;p&gt;Hello World&lt;/p&gt;&#39;);\n res.end(JSON.stringify(data));\n}).listen(3000);\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="express-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#express-ç‰ˆæœ¬" aria-hidden="true">#</a> express ç‰ˆæœ¬</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var express = require(&#39;express&#39;);\nvar cors = require(&#39;cors&#39;);//åç«¯cors ä¸­é—´ä»¶\nconst app = express();\napp.use(cors());\napp.get(&#39;/product&#39;,(req,res)=&gt;{\n    res.json({\n        a:1,\n        b:2\n    })\n})\napp.listen(8000,()=&gt;{\n    console.log(&#39;server is ok&#39;)\n})\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-4-cors" tabindex="-1"><a class="header-anchor" href="#_3-4-cors" aria-hidden="true">#</a> 3.4 cors</h3><h4 id="_3-4-1ã€ä»‹ç»ä¸€ä¸‹cors" tabindex="-1"><a class="header-anchor" href="#_3-4-1ã€ä»‹ç»ä¸€ä¸‹cors" aria-hidden="true">#</a> 3.4.1ã€ä»‹ç»ä¸€ä¸‹corsï¼Ÿ</h4><blockquote><p>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharingï¼‰ã€‚å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚</p></blockquote><h4 id="_3-4-2ã€ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#_3-4-2ã€ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚" aria-hidden="true">#</a> 3.4.2ã€ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼Ÿ</h4><p>æµè§ˆå™¨å°†CORSè¯·æ±‚åˆ†æˆä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéç®€å•è¯·æ±‚ï¼ˆnot-so-simple requestï¼‰ã€‚ é™¤äº†ç®€å•è¯·æ±‚å…¶ä»–çš„éƒ½æ˜¯éç®€å•è¯·æ±‚ï¼Œå› æ­¤åªè¦è®°ä½å“ªäº›æ˜¯ç®€å•è¯·æ±‚å°±å¯ä»¥å•¦ï¼š</p><h4 id="ç®€å•è¯·æ±‚-éœ€è¦åŒæ—¶æ»¡è¶³ä¸‹é¢ä¸¤ç§æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç®€å•è¯·æ±‚-éœ€è¦åŒæ—¶æ»¡è¶³ä¸‹é¢ä¸¤ç§æ¡ä»¶" aria-hidden="true">#</a> ç®€å•è¯·æ±‚ï¼šï¼ˆéœ€è¦åŒæ—¶æ»¡è¶³ä¸‹é¢ä¸¤ç§æ¡ä»¶ï¼‰</h4><ol><li>è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</li></ol><ul><li>HEAD</li><li>GET</li><li>POST</li></ul><ol start="2"><li>HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</li></ol><ul><li>Acceptï¼šè®¾ç½®æ¥å—çš„å†…å®¹ç±»å‹ï¼ˆè¯·æ±‚å¤´ï¼‰</li><li>Accept-Languageï¼šè®¾ç½®æ¥å—çš„è¯­è¨€ï¼ˆè¯·æ±‚å¤´ï¼‰</li><li>Content-Languageï¼šä¸ºå°é—­å†…å®¹è®¾ç½®è‡ªç„¶è¯­è¨€æˆ–è€…ç›®æ ‡ç”¨æˆ·è¯­è¨€ï¼ˆå“åº”å¤´ï¼‰</li><li>Content-Typeï¼šï¼ˆè®¾ç½®è¯·æ±‚ä½“çš„MIMEç±»å‹ï¼ˆé€‚ç”¨POSTå’ŒPUTè¯·æ±‚ï¼‰ï¼‰åªé™äºä¸‰ä¸ªå€¼</li></ul><p><code>application/x-www-form-urlencoded</code>ï¼š ä¸­é»˜è®¤çš„encTypeï¼Œformè¡¨å•æ•°æ®è¢«ç¼–ç ä¸ºkey/valueæ ¼å¼å‘é€åˆ°æœåŠ¡å™¨ï¼ˆè¡¨å•é»˜è®¤çš„æäº¤æ•°æ®çš„æ ¼å¼ï¼‰ <code>multipart/form-data</code>ï¼šå°†è¡¨å•çš„æ•°æ®å¤„ç†ä¸ºä¸€æ¡æ¶ˆæ¯ï¼Œä»¥æ ‡ç­¾ä¸ºå•å…ƒï¼Œç”¨åˆ†éš”ç¬¦åˆ†å¼€ã€‚æ—¢å¯ä»¥ä¸Šä¼ é”®å€¼å¯¹ï¼Œä¹Ÿå¯ä»¥ä¸Šä¼ æ–‡ä»¶ã€‚ <code>text/plain</code>ï¼štext/plain ï¼šçº¯æ–‡æœ¬æ ¼å¼</p><h4 id="_3-4-3ã€é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-4-3ã€é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨" aria-hidden="true">#</a> 3.4.3ã€é¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨ï¼Ÿ</h4><ul><li>æœåŠ¡å™¨ç«¯ï¼š</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const express = require(&#39;express&#39;);\nconst app= express();\n \napp.get(&#39;/&#39;, (req, res)=&gt;{\n  console.log(&#39;server is OK&#39;);\n  res.end(&#39;jingjing&#39;)\n});\n// app.use((req, res, next) =&gt; {\n// \tres.header(&quot;Access-Control-Allow-Origin&quot;,&#39;http://localhost:5500&#39;);\n// \tres.header(&quot;Access-Control-Allow-Credentials&quot;, true);\n// \tres.header(&quot;Access-Control-Allow-Headers&quot;, &#39;Content-Type,Content-Length,Authorization, Accept,X-Requested-With&#39;);\n// \tres.header(&quot;Access-Control-Allow-Methods&quot;, &#39;PUT,POST,GET,DELETE,OPTIONS,HEAD&#39;);\n// \treq.method === &#39;OPTIONS&#39; ? res.send(&#39;CURRENT SERVICES SUPPORT CROSS DOMAIN REQUESTS!&#39;) : next();\n// });\napp.listen(8081, ()=&gt;{\n    console.log(&#39;Server is running at http://localhost:8081&#39;)\n})\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li>å‰ç«¯è¯·æ±‚ï¼š</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;body&gt;\n    &lt;button onclick=&quot;sendAjax()&quot;&gt;sendAjax&lt;/button&gt;\n  &lt;script type=&quot;text/javascript&quot;&gt;\n    var sendAjax = () =&gt; {\n        var xhr = new XMLHttpRequest();\n        xhr.open(&#39;GET&#39;, &#39;http://127.0.0.1:5500&#39;, true);\n        xhr.send();\n        xhr.onreadystatechange = function (e) {\n          if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n            console.log(xhr.responseText);\n            console.log(&#39;æˆåŠŸäº†&#39;)\n          }\n        };\n    }\n  &lt;/script&gt;\n  &lt;/body&gt;\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>è·¨åŸŸæŠ¥é”™ï¼š <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525349-c6be7ca9-88e6-4ba1-aae9-ba13030fa655.png#align=left&amp;display=inline&amp;height=324&amp;margin=[object Object]&amp;originHeight=324&amp;originWidth=909&amp;size=0&amp;status=done&amp;style=none&amp;width=909" alt=""> æŠŠä¸­é—´æ³¨é‡Šçš„éƒ¨åˆ†æ”¾å¼€å†æ‰§è¡Œï¼šæ²¡æœ‰ä¸Šé¢çš„æŠ¥é”™äº†ï¼Œä¹Ÿè¿”å›äº†</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(xhr.responseText);\nconsole.log(&#39;æˆåŠŸäº†&#39;)\nå¤åˆ¶ä»£ç \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525520-dd68f889-2e62-4bf8-a0fd-a3c3399aa7bd.png#align=left&amp;display=inline&amp;height=189&amp;margin=[object Object]&amp;originHeight=189&amp;originWidth=295&amp;size=0&amp;status=done&amp;style=none&amp;width=295" alt=""> åˆ†æä¸€ä¸‹ï¼š</p><ul><li>&quot;Access-Control-Allow-Origin&quot;,<code>http://localhost:5500</code>ï¼š</li></ul><p>å¦‚æœæœåŠ¡ç«¯ä»…å…è®¸æ¥è‡ª <code>http://localhost:5500</code>çš„è®¿é—®ï¼Œå¦‚æœæœåŠ¡ç«¯è¿”å›çš„ Access-Control-Allow-Origin: * è¡¨æ˜ï¼Œè¯¥èµ„æºå¯ä»¥è¢«ä»»æ„å¤–åŸŸè®¿é—®ã€‚</p><ul><li>&quot;Access-Control-Allow-Credentials&quot;, true):</li></ul><p>Access-Control-Allow-Credentials å¤´æŒ‡å®šäº†å½“æµè§ˆå™¨çš„credentialsè®¾ç½®ä¸ºtrueæ—¶æ˜¯å¦å…è®¸æµè§ˆå™¨è¯»å–responseçš„å†…å®¹ã€‚</p><ul><li>&quot;Access-Control-Allow-Headers&quot;, &#39;Content-Type,Content-Length,Authorization, Accept,X-Requested-With&#39;):</li></ul><p>é¦–éƒ¨å­—æ®µ Access-Control-Allow-Headers è¡¨æ˜æœåŠ¡å™¨å…è®¸è¯·æ±‚ä¸­æºå¸¦å­—æ®µ X-PINGOTHER ä¸ Content-Typeã€‚</p><ul><li>&quot;Access-Control-Allow-Methods&quot;, &#39;PUT,POST,GET,DELETE,OPTIONS,HEAD&#39;:</li></ul><p>é¦–éƒ¨å­—æ®µ Access-Control-Allow-Methods è¡¨æ˜æœåŠ¡å™¨å…è®¸å®¢æˆ·ç«¯ä½¿ç”¨ POST, GET å’Œ OPTIONS ç­‰æ–¹æ³•å‘èµ·è¯·æ±‚</p><ul><li>req.method === &#39;OPTIONS&#39; ? res.send(&#39;CURRENT SERVICES SUPPORT CROSS DOMAIN REQUESTS!&#39;) : next():</li></ul><p>â€œéœ€é¢„æ£€çš„è¯·æ±‚â€è¦æ±‚å¿…é¡»é¦–å…ˆä½¿ç”¨ OPTIONS æ–¹æ³•å‘èµ·ä¸€ä¸ªé¢„æ£€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œä»¥è·çŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥å®é™…è¯·æ±‚(é™¤ç®€å•è¯·æ±‚ä»¥å¤–çš„ï¼Œæ¯”å¦‚ POSTæ–¹æ³•å°±éœ€è¦ç”¨åˆ°é¢„æ£€)</p><h3 id="_3-5ã€ä»£ç†-nginx" tabindex="-1"><a class="header-anchor" href="#_3-5ã€ä»£ç†-nginx" aria-hidden="true">#</a> 3.5ã€ä»£ç† ï¼ˆnginxï¼‰</h3><h4 id="_3-5-1-åŸç†" tabindex="-1"><a class="header-anchor" href="#_3-5-1-åŸç†" aria-hidden="true">#</a> 3.5.1 åŸç†</h4><p>Aç½‘ç«™å‘Bç½‘ç«™è¯·æ±‚1.jsæ–‡ä»¶æ—¶ï¼Œå‘Bç½‘ç«™å‘é€ä¸€ä¸ªè·å–çš„è¯·æ±‚ï¼Œnginxæ ¹æ®é…ç½®æ–‡ä»¶æ¥æ”¶è¿™ä¸ªè¯·æ±‚ï¼Œä»£æ›¿Aç½‘ç«™å‘Bç½‘ç«™æ¥è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œnginxæ‹¿åˆ°è¿™ä¸ªèµ„æºåå†è¿”å›ç»™aç½‘ç«™ï¼Œä»¥æ­¤æ¥è§£å†³äº†è·¨åŸŸé—®é¢˜ã€‚ <img src="https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525461-89bfe6bf-2283-4953-afa8-9204dec49275.png#align=left&amp;display=inline&amp;height=501&amp;margin=[object Object]&amp;originHeight=501&amp;originWidth=1153&amp;size=0&amp;status=done&amp;style=none&amp;width=1153" alt=""></p><h4 id="_3-5-2-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-5-2-ä½¿ç”¨" aria-hidden="true">#</a> 3.5.2 ä½¿ç”¨</h4>',70),c=(0,s.Uk)("ä½¿ç”¨Nginxï¼Œæœ‰å…³ä¸‹è½½å’Œé…ç½®Nginxï¼Œæˆ‘å°±ä¸å†è¿™é‡Œè¯´äº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œé‡Œé¢é…ç½®ç›¸å…³çš„è®²çš„æ¯”è¾ƒæ¸…æ¥šã€‚"),d={href:"https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fenvon123%2Farticle%2Fdetails%2F83270277",target:"_blank",rel:"noopener noreferrer"},b=(0,s.Uk)("æ­£ç¡®çš„Nginxè·¨åŸŸé…ç½®"),u=(0,s.Uk)(" ï¼ˆè‡ªå·±å¹³æ—¶ä¹Ÿæ²¡æ€ä¹ˆç”¨å°±æ˜¯ï¼Œå”‰ï¼Œå¤§å¤šçŸ¥è¯†ç‚¹ä¹Ÿæ˜¯ä¸€è¾¹å†™ä¸€è¾¹ç†ï¼‰ "),m=(0,s._)("img",{src:"https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525755-e776a318-0a68-4628-add2-96af04a3ff3f.png#align=left&display=inline&height=609&margin=[object Object]&originHeight=609&originWidth=1080&size=0&status=done&style=none&width=1080",alt:""},null,-1),h=(0,s.Uk)(" ä½†æ˜¯çš„ä½†æ˜¯ï¼Œå­¦ä¹ è¿˜æ˜¯è¦å­¦æ»´ã€‚å›åˆ°æœ€å¼€å§‹æˆ‘ä»¬æåˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæ¥çœ‹çœ‹ä½ èƒ½å›ç­”å¤šå°‘ ğŸ‘‡ğŸ‘‡ğŸ‘‡"),g=(0,s.uE)('<h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>æœ€åå†æ¥ä¸€æ¬¡æ‹·é—®ï¼š</p><ol><li>èƒ½è¯´è¯´è·¨åŸŸå—ï¼Ÿ</li><li>èƒ½è¯´è¯´åŒæºç­–ç•¥å—ï¼Ÿ</li><li>ä¸ºä»€ä¹ˆè¦åŒæºç­–ç•¥ï¼Œå®ƒé™åˆ¶äº†ä»€ä¹ˆï¼Ÿ</li><li>ä½ çŸ¥é“å“ªäº›è·¨åŸŸæ–¹æ¡ˆå‘¢ï¼Ÿ</li><li>æœ‰å…³cookieçš„è·¨åŸŸæ€ä¹ˆå®ç°ï¼Ÿ</li><li>èƒ½å…·ä½“è¯´è¯´JSONPå—ï¼Ÿè¿”å›ä»€ä¹ˆæ•°æ®å‘¢ï¼Œå‰ç«¯æ€ä¹ˆå¤„ç†å‘¢ï¼ŸçŸ¥é“ä»€ä¹ˆåŸç†å—ï¼Ÿå®ç°è¿‡å—ï¼ŸJSONPæœåŠ¡å™¨ç«¯å®ç°è¿‡å—ï¼Ÿ</li><li>postMessage äº†è§£å—ï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿï¼ˆå®‰å…¨æ–¹é¢ï¼‰</li><li>ä»£ç†äº†è§£è¿‡å—ï¼Ÿç”¨è¿‡å“ªäº›ä»£ç†æ–¹æ¡ˆå‘¢ä¸ï¼Ÿæ€ä¹ˆåœ¨é¡¹ç›®ä¸­ç”¨å‘¢ï¼Ÿ</li><li>corså¯ä»¥å…·ä½“è¯´ä¸€ä¸ªç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚å—ï¼Ÿå…·ä½“è¿‡ç¨‹è¯´ä¸€ä¸‹ï¼Ÿé¡¹ç›®ä¸­æ€ä¹ˆä½¿ç”¨ï¼Ÿ</li></ol>',3),x=(0,s.Uk)("ğŸ™ˆ å¥½å•¦ï¼Œæœ‰å…³è·¨åŸŸçš„å°±æ¢³ç†åˆ°è¿™é‡Œäº† è¿˜å¥½èœï¼Œç»§ç»­åŠ æ²¹å§ æˆ‘æ˜¯å©§å¤§ï¼Œä¸€ä¸ªå¤§ä¸‰å­¦å´½ï¼Œç›®å‰æ­£åœ¨å‡†å¤‡å®ä¹ é¢è¯•ã€‚ è¿™æ®µæ—¶é—´åº”è¯¥ä¸»è¦æ˜¯ç†ç†ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿ä¸€èµ·å­¦ä¹ ã€‚wx:lj18379991972 ğŸ’•ğŸ’•ğŸ’• ä½ çš„ç‚¹èµæ˜¯ç»™æˆ‘æœ€å¤§çš„æ”¯æŒğŸ¤ "),w=(0,s._)("img",{src:"https://cdn.nlark.com/yuque/0/2021/png/12821255/1627476525502-95e197c4-6eb1-42f0-a791-f551ddcd61eb.png#align=left&display=inline&height=500&margin=[object Object]&originHeight=500&originWidth=500&size=0&status=done&style=none&width=500",alt:""},null,-1),v=(0,s.Uk)(" ã€å‚è€ƒæ–‡çŒ®ã€‘ï¼š "),k={href:"https://link.juejin.cn/?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2016%2F04%2Fcors.html",target:"_blank",rel:"noopener noreferrer"},f=(0,s.Uk)("è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£"),j={href:"https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FSecurity%2FSame-origin_policy",target:"_blank",rel:"noopener noreferrer"},_=(0,s.Uk)("æµè§ˆå™¨çš„åŒæºç­–ç•¥"),q={href:"https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fenvon123%2Farticle%2Fdetails%2F83270277",target:"_blank",rel:"noopener noreferrer"},S=(0,s.Uk)("æ­£ç¡®çš„Nginxè·¨åŸŸé…ç½®"),A={href:"https://link.juejin.cn/?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_40650646%2Farticle%2Fdetails%2F81777398%3Futm_medium%3Ddistribute.pc_relevant.none-task-blog-2%257Edefault%257EBlogCommendFromBaidu%257Edefault-7.control%26dist_request_id%3D1328769.70653.16176908362791735%26depth_1-utm_source%3Ddistribute.pc_relevant.none-task-blog-2%257Edefault%257EBlogCommendFromBaidu%257Edefault-7.control",target:"_blank",rel:"noopener noreferrer"},y=(0,s.Uk)("window.postMessageç”¨æ³•"),O={href:"https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FHTTP%2FHeaders",target:"_blank",rel:"noopener noreferrer"},C=(0,s.Uk)("HTTP Headers"),E=(0,s.Uk)("ä½œè€…ï¼šjingda é“¾æ¥ï¼š"),F={href:"https://juejin.cn/post/6947940375008903176",target:"_blank",rel:"noopener noreferrer"},P=(0,s.Uk)("https://juejin.cn/post/6947940375008903176"),T=(0,s.Uk)(" æ¥æºï¼šæ˜é‡‘ è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"),N={render:function(e,n){const a=(0,s.up)("OutboundLink");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l,(0,s._)("p",null,[i,(0,s._)("a",t,[r,(0,s.Wm)(a)]),p]),o,(0,s._)("p",null,[c,(0,s._)("a",d,[b,(0,s.Wm)(a)]),u,m,h]),g,(0,s._)("p",null,[x,w,v,(0,s._)("a",k,[f,(0,s.Wm)(a)]),(0,s._)("a",j,[_,(0,s.Wm)(a)]),(0,s._)("a",q,[S,(0,s.Wm)(a)]),(0,s._)("a",A,[y,(0,s.Wm)(a)]),(0,s._)("a",O,[C,(0,s.Wm)(a)])]),(0,s._)("p",null,[E,(0,s._)("a",F,[P,(0,s.Wm)(a)]),T])],64)}}}}]);